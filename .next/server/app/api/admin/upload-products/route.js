"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/upload-products/route";
exports.ids = ["app/api/admin/upload-products/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "xlsx":
/*!***********************!*\
  !*** external "xlsx" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("xlsx");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fupload-products%2Froute&page=%2Fapi%2Fadmin%2Fupload-products%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fupload-products%2Froute.ts&appDir=C%3A%5CUsers%5C1%5CDocuments%5Ccurs%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C1%5CDocuments%5Ccurs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fupload-products%2Froute&page=%2Fapi%2Fadmin%2Fupload-products%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fupload-products%2Froute.ts&appDir=C%3A%5CUsers%5C1%5CDocuments%5Ccurs%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C1%5CDocuments%5Ccurs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_1_Documents_curs_app_api_admin_upload_products_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/upload-products/route.ts */ \"(rsc)/./app/api/admin/upload-products/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/upload-products/route\",\n        pathname: \"/api/admin/upload-products\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/upload-products/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\1\\\\Documents\\\\curs\\\\app\\\\api\\\\admin\\\\upload-products\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_1_Documents_curs_app_api_admin_upload_products_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/upload-products/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnVwbG9hZC1wcm9kdWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRtaW4lMkZ1cGxvYWQtcHJvZHVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZG1pbiUyRnVwbG9hZC1wcm9kdWN0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUMxJTVDRG9jdW1lbnRzJTVDY3VycyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDMSU1Q0RvY3VtZW50cyU1Q2N1cnMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3Vlc3MtY2F0YWxvZy8/MTY1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFwxXFxcXERvY3VtZW50c1xcXFxjdXJzXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcdXBsb2FkLXByb2R1Y3RzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi91cGxvYWQtcHJvZHVjdHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi91cGxvYWQtcHJvZHVjdHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL3VwbG9hZC1wcm9kdWN0cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXDFcXFxcRG9jdW1lbnRzXFxcXGN1cnNcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFx1cGxvYWQtcHJvZHVjdHNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FkbWluL3VwbG9hZC1wcm9kdWN0cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fupload-products%2Froute&page=%2Fapi%2Fadmin%2Fupload-products%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fupload-products%2Froute.ts&appDir=C%3A%5CUsers%5C1%5CDocuments%5Ccurs%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C1%5CDocuments%5Ccurs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/upload-products/route.ts":
/*!************************************************!*\
  !*** ./app/api/admin/upload-products/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xlsx */ \"xlsx\");\n/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xlsx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n// ============================================================================\n// UTILITAIRES - Fonctions de normalisation et validation\n// ============================================================================\nfunction normalizeString(value) {\n    if (value === null || value === undefined) return \"\";\n    const str = String(value);\n    return str.toLowerCase().trim().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/\\s+/g, \" \");\n}\nfunction extractStock(value) {\n    if (value === null || value === undefined || value === \"\") {\n        return {\n            valid: false,\n            value: 0,\n            error: \"ערך מלאי חסר\"\n        };\n    }\n    const strValue = String(value).trim();\n    if (!/^-?\\d+(\\.\\d+)?$/.test(strValue)) {\n        return {\n            valid: false,\n            value: 0,\n            error: `ערך מלאי לא תקין: \"${value}\"`\n        };\n    }\n    const numValue = parseFloat(strValue);\n    if (isNaN(numValue)) {\n        return {\n            valid: false,\n            value: 0,\n            error: `ערך מלאי לא תקין: \"${value}\"`\n        };\n    }\n    if (numValue < 0) {\n        return {\n            valid: false,\n            value: 0,\n            error: `מלאי לא יכול להיות שלילי: ${numValue}`\n        };\n    }\n    const roundedValue = Math.round(numValue);\n    if (roundedValue > 999999) {\n        return {\n            valid: false,\n            value: 0,\n            error: `מלאי גדול מדי: ${roundedValue}`\n        };\n    }\n    return {\n        valid: true,\n        value: roundedValue\n    };\n}\nfunction extractPrice(value) {\n    if (value === null || value === undefined || value === \"\") return 0;\n    const strValue = String(value).trim().replace(/[^\\d.-]/g, \"\");\n    const numValue = parseFloat(strValue);\n    return isNaN(numValue) ? 0 : Math.max(0, numValue);\n}\nfunction findColumnValue(row, possibleNames) {\n    for (const name of possibleNames){\n        if (row[name] !== undefined && row[name] !== null && row[name] !== \"\") {\n            return row[name];\n        }\n    }\n    const rowKeys = Object.keys(row);\n    for (const name of possibleNames){\n        const normalizedName = name.toLowerCase();\n        const foundKey = rowKeys.find((k)=>k.toLowerCase() === normalizedName);\n        if (foundKey && row[foundKey] !== undefined && row[foundKey] !== null && row[foundKey] !== \"\") {\n            return row[foundKey];\n        }\n    }\n    return undefined;\n}\nfunction normalizeRow(row, rowNumber) {\n    const idValue = findColumnValue(row, [\n        \"id\",\n        \"ID\",\n        \"Id\",\n        \"מזהה\"\n    ]);\n    const modelRefValue = findColumnValue(row, [\n        \"modelRef\",\n        \"ModelRef\",\n        \"model_ref\",\n        \"reference\",\n        \"Reference\",\n        \"ref\",\n        \"Ref\",\n        \"מקט\",\n        \"מק״ט\",\n        \"SKU\",\n        \"sku\"\n    ]);\n    const colorValue = findColumnValue(row, [\n        \"color\",\n        \"Color\",\n        \"colour\",\n        \"Colour\",\n        \"צבע\"\n    ]);\n    const sizeValue = findColumnValue(row, [\n        \"size\",\n        \"Size\",\n        \"מידה\",\n        \"taille\",\n        \"Taille\"\n    ]);\n    const stockValue = findColumnValue(row, [\n        \"stockQuantity\",\n        \"StockQuantity\",\n        \"stock_quantity\",\n        \"stock\",\n        \"Stock\",\n        \"quantity\",\n        \"Quantity\",\n        \"מלאי\",\n        \"כמות\",\n        \"qty\",\n        \"Qty\",\n        \"QTY\"\n    ]);\n    // Champs additionnels pour création\n    const collectionValue = findColumnValue(row, [\n        \"collection\",\n        \"Collection\",\n        \"קולקציה\"\n    ]);\n    const categoryValue = findColumnValue(row, [\n        \"category\",\n        \"Category\",\n        \"קטגוריה\"\n    ]);\n    const subcategoryValue = findColumnValue(row, [\n        \"subcategory\",\n        \"Subcategory\",\n        \"תת-קטגוריה\"\n    ]);\n    const brandValue = findColumnValue(row, [\n        \"brand\",\n        \"Brand\",\n        \"מותג\"\n    ]);\n    const genderValue = findColumnValue(row, [\n        \"gender\",\n        \"Gender\",\n        \"מגדר\"\n    ]);\n    const supplierValue = findColumnValue(row, [\n        \"supplier\",\n        \"Supplier\",\n        \"ספק\"\n    ]);\n    const priceRetailValue = findColumnValue(row, [\n        \"priceRetail\",\n        \"PriceRetail\",\n        \"price_retail\",\n        \"price\",\n        \"Price\",\n        \"מחיר\",\n        \"מחיר קמעונאי\"\n    ]);\n    const priceWholesaleValue = findColumnValue(row, [\n        \"priceWholesale\",\n        \"PriceWholesale\",\n        \"price_wholesale\",\n        \"wholesale\",\n        \"מחיר סיטונאי\"\n    ]);\n    const imageUrlValue = findColumnValue(row, [\n        \"imageUrl\",\n        \"ImageUrl\",\n        \"image_url\",\n        \"image\",\n        \"Image\",\n        \"תמונה\"\n    ]);\n    const productNameValue = findColumnValue(row, [\n        \"productName\",\n        \"ProductName\",\n        \"product_name\",\n        \"name\",\n        \"Name\",\n        \"שם\",\n        \"שם מוצר\"\n    ]);\n    const id = normalizeString(idValue);\n    const modelRef = normalizeString(modelRefValue);\n    const color = String(colorValue || \"\").trim();\n    const size = String(sizeValue || \"\").trim();\n    if (!modelRef && !id) {\n        return {\n            valid: false,\n            error: `שורה ${rowNumber}: חייב להיות מק״ט או מזהה`\n        };\n    }\n    const stockResult = extractStock(stockValue);\n    if (!stockResult.valid) {\n        return {\n            valid: false,\n            error: `שורה ${rowNumber}: ${stockResult.error}`\n        };\n    }\n    return {\n        valid: true,\n        data: {\n            id,\n            modelRef: modelRef || id,\n            color,\n            size,\n            stockQuantity: stockResult.value,\n            collection: String(collectionValue || \"\").trim(),\n            category: String(categoryValue || \"\").trim(),\n            subcategory: String(subcategoryValue || \"\").trim(),\n            brand: String(brandValue || \"GUESS\").trim(),\n            gender: String(genderValue || \"\").trim(),\n            supplier: String(supplierValue || \"\").trim(),\n            priceRetail: extractPrice(priceRetailValue),\n            priceWholesale: extractPrice(priceWholesaleValue),\n            imageUrl: String(imageUrlValue || \"/images/default.png\").trim(),\n            productName: String(productNameValue || modelRefValue || \"\").trim(),\n            rowNumber,\n            originalData: row\n        }\n    };\n}\n// ============================================================================\n// MATCHING - Algorithme de correspondance multi-niveau\n// ============================================================================\nfunction createProductKey(modelRef, color, size) {\n    return `${normalizeString(modelRef)}|${normalizeString(color)}|${normalizeString(size)}`;\n}\nfunction findBestMatch(row, products, productIndexMap) {\n    // NIVEAU 1: Match par ID exact (confiance 100%)\n    if (row.id) {\n        for(let i = 0; i < products.length; i++){\n            if (normalizeString(products[i].id) === row.id) {\n                return {\n                    product: products[i],\n                    productIndex: i,\n                    matchType: \"id\",\n                    confidence: 100\n                };\n            }\n        }\n    }\n    const rowModelRef = normalizeString(row.modelRef);\n    const rowColor = normalizeString(row.color);\n    const rowSize = normalizeString(row.size);\n    // NIVEAU 2: Match par modelRef + color + size (confiance 95%)\n    if (rowModelRef && rowColor && rowSize) {\n        for(let i = 0; i < products.length; i++){\n            const p = products[i];\n            if (normalizeString(p.modelRef) === rowModelRef && normalizeString(p.color) === rowColor && normalizeString(p.size) === rowSize) {\n                return {\n                    product: p,\n                    productIndex: i,\n                    matchType: \"modelRef+color+size\",\n                    confidence: 95\n                };\n            }\n        }\n    }\n    // NIVEAU 3: Match par modelRef + color (confiance 85%)\n    if (rowModelRef && rowColor) {\n        const matches = [];\n        for(let i = 0; i < products.length; i++){\n            const p = products[i];\n            if (normalizeString(p.modelRef) === rowModelRef && normalizeString(p.color) === rowColor) {\n                matches.push({\n                    product: p,\n                    index: i\n                });\n            }\n        }\n        if (matches.length === 1) {\n            return {\n                product: matches[0].product,\n                productIndex: matches[0].index,\n                matchType: \"modelRef+color\",\n                confidence: 85\n            };\n        }\n        if (matches.length > 1 && !rowSize) {\n            const noSizeMatches = matches.filter((m)=>!m.product.size || m.product.size === \"\");\n            if (noSizeMatches.length === 1) {\n                return {\n                    product: noSizeMatches[0].product,\n                    productIndex: noSizeMatches[0].index,\n                    matchType: \"modelRef+color\",\n                    confidence: 80\n                };\n            }\n        }\n    }\n    // NIVEAU 4: Match par modelRef seul (confiance 70%)\n    if (rowModelRef) {\n        const matches = [];\n        for(let i = 0; i < products.length; i++){\n            if (normalizeString(products[i].modelRef) === rowModelRef) {\n                matches.push({\n                    product: products[i],\n                    index: i\n                });\n            }\n        }\n        if (matches.length === 1) {\n            return {\n                product: matches[0].product,\n                productIndex: matches[0].index,\n                matchType: \"modelRef\",\n                confidence: 70\n            };\n        }\n    }\n    return null;\n}\nfunction generateSuggestions(row, products) {\n    const suggestions = [];\n    const rowModelRef = normalizeString(row.modelRef);\n    if (!rowModelRef) return suggestions;\n    const sameRefProducts = products.filter((p)=>normalizeString(p.modelRef) === rowModelRef);\n    if (sameRefProducts.length > 1) {\n        suggestions.push(`נמצאו ${sameRefProducts.length} מוצרים עם מק״ט \"${row.modelRef}\":`);\n        sameRefProducts.slice(0, 5).forEach((p)=>{\n            const details = [\n                p.color,\n                p.size\n            ].filter(Boolean).join(\" / \");\n            suggestions.push(`  • ${p.id}: ${details || \"ללא צבע/מידה\"}`);\n        });\n        if (sameRefProducts.length > 5) {\n            suggestions.push(`  ... ועוד ${sameRefProducts.length - 5} מוצרים`);\n        }\n    }\n    return suggestions;\n}\n// ============================================================================\n// GÉNÉRATION D'ID UNIQUE\n// ============================================================================\nfunction generateUniqueId(products, modelRef, color, existingNewIds) {\n    const baseId = modelRef.toUpperCase();\n    const colorSuffix = color ? `_${color.replace(/\\s+/g, \"_\").substring(0, 10).toUpperCase()}` : \"\";\n    let candidateId = baseId + colorSuffix;\n    let counter = 0;\n    const allExistingIds = new Set([\n        ...products.map((p)=>p.id.toUpperCase()),\n        ...Array.from(existingNewIds).map((id)=>id.toUpperCase())\n    ]);\n    while(allExistingIds.has(candidateId.toUpperCase())){\n        counter++;\n        candidateId = `${baseId}${colorSuffix}_${counter}`;\n    }\n    return candidateId;\n}\n// ============================================================================\n// BACKUP - Système de sauvegarde\n// ============================================================================\nfunction createBackup(productsPath) {\n    try {\n        const backupDir = path__WEBPACK_IMPORTED_MODULE_3__.join(process.cwd(), \"data\", \"backups\");\n        if (!fs__WEBPACK_IMPORTED_MODULE_2__.existsSync(backupDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_2__.mkdirSync(backupDir, {\n                recursive: true\n            });\n        }\n        const timestamp = new Date().toISOString().replace(/[:.]/g, \"-\");\n        const backupPath = path__WEBPACK_IMPORTED_MODULE_3__.join(backupDir, `products-backup-${timestamp}.json`);\n        fs__WEBPACK_IMPORTED_MODULE_2__.copyFileSync(productsPath, backupPath);\n        const backups = fs__WEBPACK_IMPORTED_MODULE_2__.readdirSync(backupDir).filter((f)=>f.startsWith(\"products-backup-\")).sort().reverse();\n        if (backups.length > 50) {\n            backups.slice(50).forEach((oldBackup)=>{\n                fs__WEBPACK_IMPORTED_MODULE_2__.unlinkSync(path__WEBPACK_IMPORTED_MODULE_3__.join(backupDir, oldBackup));\n            });\n        }\n        return backupPath;\n    } catch (error) {\n        console.error(\"Erreur cr\\xe9ation backup:\", error);\n        return null;\n    }\n}\n// ============================================================================\n// PARSING - Lecture des fichiers Excel/CSV\n// ============================================================================\nfunction parseExcel(buffer) {\n    const workbook = xlsx__WEBPACK_IMPORTED_MODULE_1__.read(buffer, {\n        type: \"array\",\n        cellDates: true,\n        cellNF: false,\n        cellText: false\n    });\n    const firstSheetName = workbook.SheetNames[0];\n    if (!firstSheetName) {\n        throw new Error(\"הקובץ לא מכיל גיליונות\");\n    }\n    const worksheet = workbook.Sheets[firstSheetName];\n    const data = xlsx__WEBPACK_IMPORTED_MODULE_1__.utils.sheet_to_json(worksheet, {\n        defval: \"\",\n        raw: true,\n        blankrows: false\n    });\n    return data;\n}\nfunction parseCSV(text) {\n    const lines = text.split(/\\r?\\n/).filter((line)=>line.trim());\n    if (lines.length < 2) {\n        throw new Error(\"הקובץ חייב להכיל לפחות שורת כותרות ושורת נתונים אחת\");\n    }\n    const headers = parseCSVLine(lines[0]);\n    if (headers.length === 0) {\n        throw new Error(\"לא נמצאו עמודות בקובץ\");\n    }\n    const data = [];\n    for(let i = 1; i < lines.length; i++){\n        const values = parseCSVLine(lines[i]);\n        if (values.every((v)=>!v.trim())) continue;\n        const row = {};\n        headers.forEach((header, index)=>{\n            row[header.trim()] = values[index]?.trim() || \"\";\n        });\n        data.push(row);\n    }\n    return data;\n}\nfunction parseCSVLine(line) {\n    const result = [];\n    let current = \"\";\n    let inQuotes = false;\n    for(let i = 0; i < line.length; i++){\n        const char = line[i];\n        const nextChar = line[i + 1];\n        if (char === '\"') {\n            if (inQuotes && nextChar === '\"') {\n                current += '\"';\n                i++;\n            } else {\n                inQuotes = !inQuotes;\n            }\n        } else if (char === \",\" && !inQuotes) {\n            result.push(current);\n            current = \"\";\n        } else {\n            current += char;\n        }\n    }\n    result.push(current);\n    return result;\n}\n// ============================================================================\n// TRAITEMENT PRINCIPAL\n// ============================================================================\nasync function processUpload(fileBuffer, isExcel, dryRun) {\n    const productsPath = path__WEBPACK_IMPORTED_MODULE_3__.join(process.cwd(), \"data\", \"products.json\");\n    if (!fs__WEBPACK_IMPORTED_MODULE_2__.existsSync(productsPath)) {\n        throw new Error(\"קובץ המוצרים לא נמצא\");\n    }\n    let products;\n    try {\n        const productsData = fs__WEBPACK_IMPORTED_MODULE_2__.readFileSync(productsPath, \"utf-8\");\n        products = JSON.parse(productsData);\n    } catch (error) {\n        throw new Error(\"שגיאה בקריאת קובץ המוצרים\");\n    }\n    if (!Array.isArray(products)) {\n        throw new Error(\"פורמט קובץ המוצרים לא תקין\");\n    }\n    const productIndexMap = new Map();\n    products.forEach((p, index)=>{\n        productIndexMap.set(p.id, index);\n    });\n    let uploadedRows;\n    try {\n        if (isExcel) {\n            uploadedRows = parseExcel(fileBuffer);\n        } else {\n            uploadedRows = parseCSV(fileBuffer);\n        }\n    } catch (error) {\n        throw new Error(`שגיאה בקריאת הקובץ: ${error instanceof Error ? error.message : \"שגיאה לא ידועה\"}`);\n    }\n    if (uploadedRows.length === 0) {\n        throw new Error(\"הקובץ ריק או לא מכיל נתונים תקינים\");\n    }\n    const normalizedRows = [];\n    const errors = [];\n    for(let i = 0; i < uploadedRows.length; i++){\n        const rowNumber = i + 2;\n        const result = normalizeRow(uploadedRows[i], rowNumber);\n        if (result.valid && result.data) {\n            normalizedRows.push(result.data);\n        } else {\n            errors.push({\n                rowNumber,\n                message: result.error || \"שגיאה לא ידועה\",\n                data: uploadedRows[i]\n            });\n        }\n    }\n    // Détection des doublons\n    const seenKeys = new Map();\n    const duplicatesInFile = [];\n    normalizedRows.forEach((row)=>{\n        const key = createProductKey(row.modelRef, row.color, row.size);\n        const existing = seenKeys.get(key);\n        if (existing) {\n            existing.push(row.rowNumber);\n        } else {\n            seenKeys.set(key, [\n                row.rowNumber\n            ]);\n        }\n    });\n    seenKeys.forEach((rowNumbers, key)=>{\n        if (rowNumbers.length > 1) {\n            const [modelRef, color, size] = key.split(\"|\");\n            duplicatesInFile.push({\n                rowNumbers,\n                modelRef,\n                color,\n                size\n            });\n            rowNumbers.slice(1).forEach((rowNum)=>{\n                errors.push({\n                    rowNumber: rowNum,\n                    message: `שורה כפולה - אותו מוצר מופיע גם בשורה ${rowNumbers[0]}`,\n                    data: null\n                });\n            });\n        }\n    });\n    const uniqueRows = normalizedRows.filter((row)=>{\n        const key = createProductKey(row.modelRef, row.color, row.size);\n        const rowNumbers = seenKeys.get(key);\n        return rowNumbers && rowNumbers[0] === row.rowNumber;\n    });\n    // Matching et création\n    const operations = [];\n    const creations = [];\n    const notFound = [];\n    const usedProductIndices = new Set();\n    const newProductIds = new Set();\n    for (const row of uniqueRows){\n        const match = findBestMatch(row, products, productIndexMap);\n        if (match) {\n            if (usedProductIndices.has(match.productIndex)) {\n                errors.push({\n                    rowNumber: row.rowNumber,\n                    message: `המוצר ${match.product.id} כבר עודכן בקובץ זה`,\n                    data: row.originalData\n                });\n                continue;\n            }\n            usedProductIndices.add(match.productIndex);\n            operations.push({\n                rowNumber: row.rowNumber,\n                productId: match.product.id,\n                productIndex: match.productIndex,\n                modelRef: match.product.modelRef,\n                color: match.product.color,\n                size: match.product.size,\n                oldStock: match.product.stockQuantity,\n                newStock: row.stockQuantity,\n                matchType: match.matchType,\n                confidence: match.confidence\n            });\n        } else {\n            // Vérifier s'il y a plusieurs produits avec le même modelRef\n            const rowModelRef = normalizeString(row.modelRef);\n            const sameRefProducts = products.filter((p)=>normalizeString(p.modelRef) === rowModelRef);\n            if (sameRefProducts.length > 1) {\n                // Plusieurs produits avec même ref = ambiguïté, ne pas créer\n                const suggestions = generateSuggestions(row, products);\n                notFound.push({\n                    rowNumber: row.rowNumber,\n                    modelRef: row.modelRef,\n                    color: row.color,\n                    size: row.size,\n                    requestedStock: row.stockQuantity,\n                    reason: \"נמצאו מספר מוצרים עם אותו מק״ט - יש לציין צבע/מידה מדויקים\",\n                    suggestions\n                });\n            } else {\n                // Aucun produit trouvé OU un seul produit mais pas de match exact = CRÉER nouveau produit\n                const newId = generateUniqueId(products, row.modelRef, row.color, newProductIds);\n                newProductIds.add(newId);\n                const newProduct = {\n                    id: newId,\n                    collection: row.collection || \"\",\n                    category: row.category || \"\",\n                    subcategory: row.subcategory || \"\",\n                    brand: row.brand || \"GUESS\",\n                    modelRef: row.modelRef.toUpperCase(),\n                    gender: row.gender || \"\",\n                    supplier: row.supplier || \"\",\n                    color: row.color,\n                    priceRetail: row.priceRetail,\n                    priceWholesale: row.priceWholesale,\n                    stockQuantity: row.stockQuantity,\n                    imageUrl: row.imageUrl || \"/images/default.png\",\n                    gallery: [],\n                    productName: row.productName || row.modelRef,\n                    size: row.size\n                };\n                creations.push({\n                    rowNumber: row.rowNumber,\n                    newProduct\n                });\n            }\n        }\n    }\n    // Appliquer les modifications\n    let backupPath = null;\n    if (!dryRun && (operations.length > 0 || creations.length > 0)) {\n        backupPath = createBackup(productsPath);\n        if (!backupPath) {\n            throw new Error(\"שגיאה ביצירת גיבוי - העדכון בוטל למניעת אובדן נתונים\");\n        }\n        // Appliquer les mises à jour\n        for (const op of operations){\n            products[op.productIndex].stockQuantity = op.newStock;\n        }\n        // Ajouter les nouveaux produits\n        for (const creation of creations){\n            products.push(creation.newProduct);\n        }\n        try {\n            fs__WEBPACK_IMPORTED_MODULE_2__.writeFileSync(productsPath, JSON.stringify(products, null, 4), \"utf-8\");\n        } catch (error) {\n            if (backupPath && fs__WEBPACK_IMPORTED_MODULE_2__.existsSync(backupPath)) {\n                try {\n                    fs__WEBPACK_IMPORTED_MODULE_2__.copyFileSync(backupPath, productsPath);\n                } catch  {\n                // Critical error\n                }\n            }\n            throw new Error(\"שגיאה בשמירת הנתונים - הגיבוי נשמר\");\n        }\n    }\n    return {\n        success: true,\n        dryRun,\n        backupPath,\n        summary: {\n            totalRows: uploadedRows.length,\n            validRows: normalizedRows.length,\n            toUpdate: operations.length,\n            toCreate: creations.length,\n            notFound: notFound.length,\n            errors: errors.length,\n            duplicatesInFile: duplicatesInFile.length\n        },\n        operations,\n        creations,\n        notFound,\n        errors,\n        duplicatesInFile\n    };\n}\n// ============================================================================\n// API ENDPOINTS\n// ============================================================================\nasync function POST(request) {\n    try {\n        const formData = await request.formData();\n        const file = formData.get(\"file\");\n        const dryRunParam = formData.get(\"dryRun\");\n        const dryRun = dryRunParam === \"true\";\n        if (!file) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"לא נבחר קובץ\"\n            }, {\n                status: 400\n            });\n        }\n        if (file.size === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"הקובץ ריק\"\n            }, {\n                status: 400\n            });\n        }\n        if (file.size > 10 * 1024 * 1024) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"הקובץ גדול מדי (מקסימום 10MB)\"\n            }, {\n                status: 400\n            });\n        }\n        const fileName = file.name.toLowerCase();\n        const isExcel = fileName.endsWith(\".xlsx\") || fileName.endsWith(\".xls\");\n        const isCSV = fileName.endsWith(\".csv\");\n        if (!isExcel && !isCSV) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"פורמט קובץ לא נתמך. השתמש ב-.xlsx, .xls או .csv\"\n            }, {\n                status: 400\n            });\n        }\n        let fileContent;\n        if (isExcel) {\n            fileContent = await file.arrayBuffer();\n        } else {\n            fileContent = await file.text();\n        }\n        const result = await processUpload(fileContent, isExcel, dryRun);\n        const response = {\n            success: true,\n            dryRun: result.dryRun,\n            message: result.dryRun ? `מצב תצוגה מקדימה: ${result.summary.toUpdate} יעודכנו, ${result.summary.toCreate} ייווצרו` : `${result.summary.toUpdate} מוצרים עודכנו, ${result.summary.toCreate} מוצרים נוצרו`,\n            backupPath: result.backupPath,\n            summary: result.summary,\n            report: {\n                updated: result.operations.map((op)=>({\n                        id: op.productId,\n                        modelRef: op.modelRef,\n                        color: op.color,\n                        size: op.size,\n                        oldStock: op.oldStock,\n                        newStock: op.newStock,\n                        matchType: op.matchType,\n                        confidence: op.confidence,\n                        rowNumber: op.rowNumber\n                    })),\n                created: result.creations.map((c)=>({\n                        id: c.newProduct.id,\n                        modelRef: c.newProduct.modelRef,\n                        color: c.newProduct.color,\n                        size: c.newProduct.size,\n                        stock: c.newProduct.stockQuantity,\n                        rowNumber: c.rowNumber\n                    })),\n                notFound: result.notFound.map((nf)=>({\n                        row: nf.rowNumber,\n                        data: {\n                            reference: nf.modelRef,\n                            color: nf.color,\n                            size: nf.size,\n                            stock: nf.requestedStock\n                        },\n                        reason: nf.reason,\n                        suggestions: nf.suggestions\n                    })),\n                errors: result.errors.map((e)=>({\n                        row: e.rowNumber,\n                        message: e.message\n                    })),\n                duplicates: result.duplicatesInFile\n            }\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n    } catch (error) {\n        console.error(\"Upload error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : \"שגיאה לא צפויה\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const format = searchParams.get(\"format\") || \"csv\";\n    const headers = [\n        \"id\",\n        \"modelRef\",\n        \"color\",\n        \"size\",\n        \"stockQuantity\",\n        \"collection\",\n        \"category\",\n        \"brand\",\n        \"priceRetail\",\n        \"priceWholesale\"\n    ];\n    const exampleRows = [\n        [\n            \"AA947142\",\n            \"AA947142\",\n            \"BLACK MULTI\",\n            \"\",\n            \"10\",\n            \"FALL 2024\",\n            \"bag\",\n            \"GUESS\",\n            \"199.9\",\n            \"99.95\"\n        ],\n        [\n            \"\",\n            \"NEW_PRODUCT\",\n            \"BLUE\",\n            \"M\",\n            \"5\",\n            \"SPRING 2025\",\n            \"shoes\",\n            \"GUESS\",\n            \"299.9\",\n            \"149.95\"\n        ]\n    ];\n    if (format === \"csv\") {\n        const csvContent = [\n            headers.join(\",\"),\n            ...exampleRows.map((row)=>row.join(\",\"))\n        ].join(\"\\n\");\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(csvContent, {\n            headers: {\n                \"Content-Type\": \"text/csv; charset=utf-8\",\n                \"Content-Disposition\": 'attachment; filename=\"template-stock.csv\"'\n            }\n        });\n    } else {\n        const workbook = xlsx__WEBPACK_IMPORTED_MODULE_1__.utils.book_new();\n        const worksheet = xlsx__WEBPACK_IMPORTED_MODULE_1__.utils.aoa_to_sheet([\n            headers,\n            ...exampleRows\n        ]);\n        worksheet[\"!cols\"] = headers.map(()=>({\n                wch: 18\n            }));\n        xlsx__WEBPACK_IMPORTED_MODULE_1__.utils.book_append_sheet(workbook, worksheet, \"Stock\");\n        const excelBuffer = xlsx__WEBPACK_IMPORTED_MODULE_1__.write(workbook, {\n            type: \"buffer\",\n            bookType: \"xlsx\"\n        });\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(excelBuffer, {\n            headers: {\n                \"Content-Type\": \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n                \"Content-Disposition\": 'attachment; filename=\"template-stock.xlsx\"'\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL3VwbG9hZC1wcm9kdWN0cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDM0I7QUFDSjtBQUNJO0FBbUg3QiwrRUFBK0U7QUFDL0UseURBQXlEO0FBQ3pELCtFQUErRTtBQUUvRSxTQUFTSSxnQkFBZ0JDLEtBQWM7SUFDckMsSUFBSUEsVUFBVSxRQUFRQSxVQUFVQyxXQUFXLE9BQU87SUFDbEQsTUFBTUMsTUFBTUMsT0FBT0g7SUFDbkIsT0FBT0UsSUFDSkUsV0FBVyxHQUNYQyxJQUFJLEdBQ0pDLFNBQVMsQ0FBQyxPQUNWQyxPQUFPLENBQUMsb0JBQW9CLElBQzVCQSxPQUFPLENBQUMsUUFBUTtBQUNyQjtBQUVBLFNBQVNDLGFBQWFSLEtBQWM7SUFDbEMsSUFBSUEsVUFBVSxRQUFRQSxVQUFVQyxhQUFhRCxVQUFVLElBQUk7UUFDekQsT0FBTztZQUFFUyxPQUFPO1lBQU9ULE9BQU87WUFBR1UsT0FBTztRQUFlO0lBQ3pEO0lBRUEsTUFBTUMsV0FBV1IsT0FBT0gsT0FBT0ssSUFBSTtJQUVuQyxJQUFJLENBQUMsa0JBQWtCTyxJQUFJLENBQUNELFdBQVc7UUFDckMsT0FBTztZQUFFRixPQUFPO1lBQU9ULE9BQU87WUFBR1UsT0FBTyxDQUFDLG1CQUFtQixFQUFFVixNQUFNLENBQUMsQ0FBQztRQUFDO0lBQ3pFO0lBRUEsTUFBTWEsV0FBV0MsV0FBV0g7SUFFNUIsSUFBSUksTUFBTUYsV0FBVztRQUNuQixPQUFPO1lBQUVKLE9BQU87WUFBT1QsT0FBTztZQUFHVSxPQUFPLENBQUMsbUJBQW1CLEVBQUVWLE1BQU0sQ0FBQyxDQUFDO1FBQUM7SUFDekU7SUFFQSxJQUFJYSxXQUFXLEdBQUc7UUFDaEIsT0FBTztZQUFFSixPQUFPO1lBQU9ULE9BQU87WUFBR1UsT0FBTyxDQUFDLDBCQUEwQixFQUFFRyxTQUFTLENBQUM7UUFBQztJQUNsRjtJQUVBLE1BQU1HLGVBQWVDLEtBQUtDLEtBQUssQ0FBQ0w7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Ly4vYXBwL2FwaS9hZG1pbi91cGxvYWQtcHJvZHVjdHMvcm91dGUudHM/YTU4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcbmltcG9ydCAqIGFzIFhMU1ggZnJvbSBcInhsc3hcIjtcclxuaW1wb3J0ICogYXMgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVFlQRVMgLSBEw6lmaW5pdGlvbnMgc3RyaWN0ZXNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW50ZXJmYWNlIFByb2R1Y3Qge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgY29sbGVjdGlvbjogc3RyaW5nO1xyXG4gIGNhdGVnb3J5OiBzdHJpbmc7XHJcbiAgc3ViY2F0ZWdvcnk6IHN0cmluZztcclxuICBicmFuZDogc3RyaW5nO1xyXG4gIG1vZGVsUmVmOiBzdHJpbmc7XHJcbiAgZ2VuZGVyOiBzdHJpbmc7XHJcbiAgc3VwcGxpZXI6IHN0cmluZztcclxuICBjb2xvcjogc3RyaW5nO1xyXG4gIHByaWNlUmV0YWlsOiBudW1iZXI7XHJcbiAgcHJpY2VXaG9sZXNhbGU6IG51bWJlcjtcclxuICBzdG9ja1F1YW50aXR5OiBudW1iZXI7XHJcbiAgaW1hZ2VVcmw6IHN0cmluZztcclxuICBnYWxsZXJ5OiBzdHJpbmdbXTtcclxuICBwcm9kdWN0TmFtZTogc3RyaW5nO1xyXG4gIHNpemU6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFVwbG9hZFJvdyB7XHJcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcclxufVxyXG5cclxuaW50ZXJmYWNlIE5vcm1hbGl6ZWRSb3cge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbW9kZWxSZWY6IHN0cmluZztcclxuICBjb2xvcjogc3RyaW5nO1xyXG4gIHNpemU6IHN0cmluZztcclxuICBzdG9ja1F1YW50aXR5OiBudW1iZXI7XHJcbiAgY29sbGVjdGlvbjogc3RyaW5nO1xyXG4gIGNhdGVnb3J5OiBzdHJpbmc7XHJcbiAgc3ViY2F0ZWdvcnk6IHN0cmluZztcclxuICBicmFuZDogc3RyaW5nO1xyXG4gIGdlbmRlcjogc3RyaW5nO1xyXG4gIHN1cHBsaWVyOiBzdHJpbmc7XHJcbiAgcHJpY2VSZXRhaWw6IG51bWJlcjtcclxuICBwcmljZVdob2xlc2FsZTogbnVtYmVyO1xyXG4gIGltYWdlVXJsOiBzdHJpbmc7XHJcbiAgcHJvZHVjdE5hbWU6IHN0cmluZztcclxuICByb3dOdW1iZXI6IG51bWJlcjtcclxuICBvcmlnaW5hbERhdGE6IFVwbG9hZFJvdztcclxufVxyXG5cclxuaW50ZXJmYWNlIE1hdGNoUmVzdWx0IHtcclxuICBwcm9kdWN0OiBQcm9kdWN0O1xyXG4gIHByb2R1Y3RJbmRleDogbnVtYmVyO1xyXG4gIG1hdGNoVHlwZTogXCJpZFwiIHwgXCJtb2RlbFJlZitjb2xvcitzaXplXCIgfCBcIm1vZGVsUmVmK2NvbG9yXCIgfCBcIm1vZGVsUmVmXCI7XHJcbiAgY29uZmlkZW5jZTogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVXBkYXRlT3BlcmF0aW9uIHtcclxuICByb3dOdW1iZXI6IG51bWJlcjtcclxuICBwcm9kdWN0SWQ6IHN0cmluZztcclxuICBwcm9kdWN0SW5kZXg6IG51bWJlcjtcclxuICBtb2RlbFJlZjogc3RyaW5nO1xyXG4gIGNvbG9yOiBzdHJpbmc7XHJcbiAgc2l6ZTogc3RyaW5nO1xyXG4gIG9sZFN0b2NrOiBudW1iZXI7XHJcbiAgbmV3U3RvY2s6IG51bWJlcjtcclxuICBtYXRjaFR5cGU6IHN0cmluZztcclxuICBjb25maWRlbmNlOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBDcmVhdGVPcGVyYXRpb24ge1xyXG4gIHJvd051bWJlcjogbnVtYmVyO1xyXG4gIG5ld1Byb2R1Y3Q6IFByb2R1Y3Q7XHJcbn1cclxuXHJcbmludGVyZmFjZSBOb3RGb3VuZEl0ZW0ge1xyXG4gIHJvd051bWJlcjogbnVtYmVyO1xyXG4gIG1vZGVsUmVmOiBzdHJpbmc7XHJcbiAgY29sb3I6IHN0cmluZztcclxuICBzaXplOiBzdHJpbmc7XHJcbiAgcmVxdWVzdGVkU3RvY2s6IG51bWJlcjtcclxuICByZWFzb246IHN0cmluZztcclxuICBzdWdnZXN0aW9uczogc3RyaW5nW107XHJcbn1cclxuXHJcbmludGVyZmFjZSBFcnJvckl0ZW0ge1xyXG4gIHJvd051bWJlcjogbnVtYmVyO1xyXG4gIG1lc3NhZ2U6IHN0cmluZztcclxuICBkYXRhOiB1bmtub3duO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUHJvY2Vzc2luZ1Jlc3VsdCB7XHJcbiAgc3VjY2VzczogYm9vbGVhbjtcclxuICBkcnlSdW46IGJvb2xlYW47XHJcbiAgYmFja3VwUGF0aDogc3RyaW5nIHwgbnVsbDtcclxuICBzdW1tYXJ5OiB7XHJcbiAgICB0b3RhbFJvd3M6IG51bWJlcjtcclxuICAgIHZhbGlkUm93czogbnVtYmVyO1xyXG4gICAgdG9VcGRhdGU6IG51bWJlcjtcclxuICAgIHRvQ3JlYXRlOiBudW1iZXI7XHJcbiAgICBub3RGb3VuZDogbnVtYmVyO1xyXG4gICAgZXJyb3JzOiBudW1iZXI7XHJcbiAgICBkdXBsaWNhdGVzSW5GaWxlOiBudW1iZXI7XHJcbiAgfTtcclxuICBvcGVyYXRpb25zOiBVcGRhdGVPcGVyYXRpb25bXTtcclxuICBjcmVhdGlvbnM6IENyZWF0ZU9wZXJhdGlvbltdO1xyXG4gIG5vdEZvdW5kOiBOb3RGb3VuZEl0ZW1bXTtcclxuICBlcnJvcnM6IEVycm9ySXRlbVtdO1xyXG4gIGR1cGxpY2F0ZXNJbkZpbGU6IEFycmF5PHtcclxuICAgIHJvd051bWJlcnM6IG51bWJlcltdO1xyXG4gICAgbW9kZWxSZWY6IHN0cmluZztcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBzaXplOiBzdHJpbmc7XHJcbiAgfT47XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVVRJTElUQUlSRVMgLSBGb25jdGlvbnMgZGUgbm9ybWFsaXNhdGlvbiBldCB2YWxpZGF0aW9uXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZyh2YWx1ZTogdW5rbm93bik6IHN0cmluZyB7XHJcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBcIlwiO1xyXG4gIGNvbnN0IHN0ciA9IFN0cmluZyh2YWx1ZSk7XHJcbiAgcmV0dXJuIHN0clxyXG4gICAgLnRvTG93ZXJDYXNlKClcclxuICAgIC50cmltKClcclxuICAgIC5ub3JtYWxpemUoXCJORkRcIilcclxuICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCBcIlwiKVxyXG4gICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBleHRyYWN0U3RvY2sodmFsdWU6IHVua25vd24pOiB7IHZhbGlkOiBib29sZWFuOyB2YWx1ZTogbnVtYmVyOyBlcnJvcj86IHN0cmluZyB9IHtcclxuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gXCJcIikge1xyXG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCB2YWx1ZTogMCwgZXJyb3I6IFwi16LXqNeaINee15zXkNeZINeX16HXqFwiIH07XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdHJWYWx1ZSA9IFN0cmluZyh2YWx1ZSkudHJpbSgpO1xyXG4gIFxyXG4gIGlmICghL14tP1xcZCsoXFwuXFxkKyk/JC8udGVzdChzdHJWYWx1ZSkpIHtcclxuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgdmFsdWU6IDAsIGVycm9yOiBg16LXqNeaINee15zXkNeZINec15Ag16rXp9eZ1586IFwiJHt2YWx1ZX1cImAgfTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG51bVZhbHVlID0gcGFyc2VGbG9hdChzdHJWYWx1ZSk7XHJcbiAgXHJcbiAgaWYgKGlzTmFOKG51bVZhbHVlKSkge1xyXG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCB2YWx1ZTogMCwgZXJyb3I6IGDXoteo15og157XnNeQ15kg15zXkCDXqten15nXnzogXCIke3ZhbHVlfVwiYCB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKG51bVZhbHVlIDwgMCkge1xyXG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCB2YWx1ZTogMCwgZXJyb3I6IGDXntec15DXmSDXnNeQINeZ15vXldecINec15TXmdeV16og16nXnNeZ15zXmTogJHtudW1WYWx1ZX1gIH07XHJcbiAgfVxyXG5cclxuICBjb25zdCByb3VuZGVkVmFsdWUgPSBNYXRoLnJvdW5kKG51bVZhbHVlKTtcclxuICBcclxuICBpZiAocm91bmRlZFZhbHVlID4gOTk5OTk5KSB7XHJcbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIHZhbHVlOiAwLCBlcnJvcjogYNee15zXkNeZINeS15PXldecINee15PXmTogJHtyb3VuZGVkVmFsdWV9YCB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIHZhbHVlOiByb3VuZGVkVmFsdWUgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXh0cmFjdFByaWNlKHZhbHVlOiB1bmtub3duKTogbnVtYmVyIHtcclxuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gXCJcIikgcmV0dXJuIDA7XHJcbiAgY29uc3Qgc3RyVmFsdWUgPSBTdHJpbmcodmFsdWUpLnRyaW0oKS5yZXBsYWNlKC9bXlxcZC4tXS9nLCBcIlwiKTtcclxuICBjb25zdCBudW1WYWx1ZSA9IHBhcnNlRmxvYXQoc3RyVmFsdWUpO1xyXG4gIHJldHVybiBpc05hTihudW1WYWx1ZSkgPyAwIDogTWF0aC5tYXgoMCwgbnVtVmFsdWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kQ29sdW1uVmFsdWUocm93OiBVcGxvYWRSb3csIHBvc3NpYmxlTmFtZXM6IHN0cmluZ1tdKTogdW5rbm93biB7XHJcbiAgZm9yIChjb25zdCBuYW1lIG9mIHBvc3NpYmxlTmFtZXMpIHtcclxuICAgIGlmIChyb3dbbmFtZV0gIT09IHVuZGVmaW5lZCAmJiByb3dbbmFtZV0gIT09IG51bGwgJiYgcm93W25hbWVdICE9PSBcIlwiKSB7XHJcbiAgICAgIHJldHVybiByb3dbbmFtZV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IHJvd0tleXMgPSBPYmplY3Qua2V5cyhyb3cpO1xyXG4gIGZvciAoY29uc3QgbmFtZSBvZiBwb3NzaWJsZU5hbWVzKSB7XHJcbiAgICBjb25zdCBub3JtYWxpemVkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgIGNvbnN0IGZvdW5kS2V5ID0gcm93S2V5cy5maW5kKGsgPT4gay50b0xvd2VyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZSk7XHJcbiAgICBpZiAoZm91bmRLZXkgJiYgcm93W2ZvdW5kS2V5XSAhPT0gdW5kZWZpbmVkICYmIHJvd1tmb3VuZEtleV0gIT09IG51bGwgJiYgcm93W2ZvdW5kS2V5XSAhPT0gXCJcIikge1xyXG4gICAgICByZXR1cm4gcm93W2ZvdW5kS2V5XTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHVuZGVmaW5lZDtcclxufVxyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXplUm93KHJvdzogVXBsb2FkUm93LCByb3dOdW1iZXI6IG51bWJlcik6IHsgdmFsaWQ6IGJvb2xlYW47IGRhdGE/OiBOb3JtYWxpemVkUm93OyBlcnJvcj86IHN0cmluZyB9IHtcclxuICBjb25zdCBpZFZhbHVlID0gZmluZENvbHVtblZhbHVlKHJvdywgW1wiaWRcIiwgXCJJRFwiLCBcIklkXCIsIFwi157XlteU15RcIl0pO1xyXG4gIGNvbnN0IG1vZGVsUmVmVmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJtb2RlbFJlZlwiLCBcIk1vZGVsUmVmXCIsIFwibW9kZWxfcmVmXCIsIFwicmVmZXJlbmNlXCIsIFwiUmVmZXJlbmNlXCIsIFwicmVmXCIsIFwiUmVmXCIsIFwi157Xp9eYXCIsIFwi157Xp9e015hcIiwgXCJTS1VcIiwgXCJza3VcIl0pO1xyXG4gIGNvbnN0IGNvbG9yVmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJjb2xvclwiLCBcIkNvbG9yXCIsIFwiY29sb3VyXCIsIFwiQ29sb3VyXCIsIFwi16bXkdeiXCJdKTtcclxuICBjb25zdCBzaXplVmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJzaXplXCIsIFwiU2l6ZVwiLCBcItee15nXk9eUXCIsIFwidGFpbGxlXCIsIFwiVGFpbGxlXCJdKTtcclxuICBjb25zdCBzdG9ja1ZhbHVlID0gZmluZENvbHVtblZhbHVlKHJvdywgW1wic3RvY2tRdWFudGl0eVwiLCBcIlN0b2NrUXVhbnRpdHlcIiwgXCJzdG9ja19xdWFudGl0eVwiLCBcInN0b2NrXCIsIFwiU3RvY2tcIiwgXCJxdWFudGl0eVwiLCBcIlF1YW50aXR5XCIsIFwi157XnNeQ15lcIiwgXCLXm9ee15XXqlwiLCBcInF0eVwiLCBcIlF0eVwiLCBcIlFUWVwiXSk7XHJcbiAgXHJcbiAgLy8gQ2hhbXBzIGFkZGl0aW9ubmVscyBwb3VyIGNyw6lhdGlvblxyXG4gIGNvbnN0IGNvbGxlY3Rpb25WYWx1ZSA9IGZpbmRDb2x1bW5WYWx1ZShyb3csIFtcImNvbGxlY3Rpb25cIiwgXCJDb2xsZWN0aW9uXCIsIFwi16fXldec16fXpteZ15RcIl0pO1xyXG4gIGNvbnN0IGNhdGVnb3J5VmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJjYXRlZ29yeVwiLCBcIkNhdGVnb3J5XCIsIFwi16fXmNeS15XXqNeZ15RcIl0pO1xyXG4gIGNvbnN0IHN1YmNhdGVnb3J5VmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJzdWJjYXRlZ29yeVwiLCBcIlN1YmNhdGVnb3J5XCIsIFwi16rXqi3Xp9eY15LXldeo15nXlFwiXSk7XHJcbiAgY29uc3QgYnJhbmRWYWx1ZSA9IGZpbmRDb2x1bW5WYWx1ZShyb3csIFtcImJyYW5kXCIsIFwiQnJhbmRcIiwgXCLXnteV16rXklwiXSk7XHJcbiAgY29uc3QgZ2VuZGVyVmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJnZW5kZXJcIiwgXCJHZW5kZXJcIiwgXCLXnteS15PXqFwiXSk7XHJcbiAgY29uc3Qgc3VwcGxpZXJWYWx1ZSA9IGZpbmRDb2x1bW5WYWx1ZShyb3csIFtcInN1cHBsaWVyXCIsIFwiU3VwcGxpZXJcIiwgXCLXodek16dcIl0pO1xyXG4gIGNvbnN0IHByaWNlUmV0YWlsVmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJwcmljZVJldGFpbFwiLCBcIlByaWNlUmV0YWlsXCIsIFwicHJpY2VfcmV0YWlsXCIsIFwicHJpY2VcIiwgXCJQcmljZVwiLCBcItee15fXmdeoXCIsIFwi157Xl9eZ16gg16fXntei15XXoNeQ15lcIl0pO1xyXG4gIGNvbnN0IHByaWNlV2hvbGVzYWxlVmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJwcmljZVdob2xlc2FsZVwiLCBcIlByaWNlV2hvbGVzYWxlXCIsIFwicHJpY2Vfd2hvbGVzYWxlXCIsIFwid2hvbGVzYWxlXCIsIFwi157Xl9eZ16gg16HXmdeY15XXoNeQ15lcIl0pO1xyXG4gIGNvbnN0IGltYWdlVXJsVmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJpbWFnZVVybFwiLCBcIkltYWdlVXJsXCIsIFwiaW1hZ2VfdXJsXCIsIFwiaW1hZ2VcIiwgXCJJbWFnZVwiLCBcIteq157Xldeg15RcIl0pO1xyXG4gIGNvbnN0IHByb2R1Y3ROYW1lVmFsdWUgPSBmaW5kQ29sdW1uVmFsdWUocm93LCBbXCJwcm9kdWN0TmFtZVwiLCBcIlByb2R1Y3ROYW1lXCIsIFwicHJvZHVjdF9uYW1lXCIsIFwibmFtZVwiLCBcIk5hbWVcIiwgXCLXqdedXCIsIFwi16nXnSDXnteV16bXqFwiXSk7XHJcblxyXG4gIGNvbnN0IGlkID0gbm9ybWFsaXplU3RyaW5nKGlkVmFsdWUpO1xyXG4gIGNvbnN0IG1vZGVsUmVmID0gbm9ybWFsaXplU3RyaW5nKG1vZGVsUmVmVmFsdWUpO1xyXG4gIGNvbnN0IGNvbG9yID0gU3RyaW5nKGNvbG9yVmFsdWUgfHwgXCJcIikudHJpbSgpO1xyXG4gIGNvbnN0IHNpemUgPSBTdHJpbmcoc2l6ZVZhbHVlIHx8IFwiXCIpLnRyaW0oKTtcclxuXHJcbiAgaWYgKCFtb2RlbFJlZiAmJiAhaWQpIHtcclxuICAgIHJldHVybiB7IFxyXG4gICAgICB2YWxpZDogZmFsc2UsIFxyXG4gICAgICBlcnJvcjogYNep15XXqNeUICR7cm93TnVtYmVyfTog15fXmdeZ15Eg15zXlNeZ15XXqiDXnten17TXmCDXkNeVINee15bXlNeUYCBcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdG9ja1Jlc3VsdCA9IGV4dHJhY3RTdG9jayhzdG9ja1ZhbHVlKTtcclxuICBpZiAoIXN0b2NrUmVzdWx0LnZhbGlkKSB7XHJcbiAgICByZXR1cm4geyBcclxuICAgICAgdmFsaWQ6IGZhbHNlLCBcclxuICAgICAgZXJyb3I6IGDXqdeV16jXlCAke3Jvd051bWJlcn06ICR7c3RvY2tSZXN1bHQuZXJyb3J9YCBcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdmFsaWQ6IHRydWUsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIGlkLFxyXG4gICAgICBtb2RlbFJlZjogbW9kZWxSZWYgfHwgaWQsXHJcbiAgICAgIGNvbG9yLFxyXG4gICAgICBzaXplLFxyXG4gICAgICBzdG9ja1F1YW50aXR5OiBzdG9ja1Jlc3VsdC52YWx1ZSxcclxuICAgICAgY29sbGVjdGlvbjogU3RyaW5nKGNvbGxlY3Rpb25WYWx1ZSB8fCBcIlwiKS50cmltKCksXHJcbiAgICAgIGNhdGVnb3J5OiBTdHJpbmcoY2F0ZWdvcnlWYWx1ZSB8fCBcIlwiKS50cmltKCksXHJcbiAgICAgIHN1YmNhdGVnb3J5OiBTdHJpbmcoc3ViY2F0ZWdvcnlWYWx1ZSB8fCBcIlwiKS50cmltKCksXHJcbiAgICAgIGJyYW5kOiBTdHJpbmcoYnJhbmRWYWx1ZSB8fCBcIkdVRVNTXCIpLnRyaW0oKSxcclxuICAgICAgZ2VuZGVyOiBTdHJpbmcoZ2VuZGVyVmFsdWUgfHwgXCJcIikudHJpbSgpLFxyXG4gICAgICBzdXBwbGllcjogU3RyaW5nKHN1cHBsaWVyVmFsdWUgfHwgXCJcIikudHJpbSgpLFxyXG4gICAgICBwcmljZVJldGFpbDogZXh0cmFjdFByaWNlKHByaWNlUmV0YWlsVmFsdWUpLFxyXG4gICAgICBwcmljZVdob2xlc2FsZTogZXh0cmFjdFByaWNlKHByaWNlV2hvbGVzYWxlVmFsdWUpLFxyXG4gICAgICBpbWFnZVVybDogU3RyaW5nKGltYWdlVXJsVmFsdWUgfHwgXCIvaW1hZ2VzL2RlZmF1bHQucG5nXCIpLnRyaW0oKSxcclxuICAgICAgcHJvZHVjdE5hbWU6IFN0cmluZyhwcm9kdWN0TmFtZVZhbHVlIHx8IG1vZGVsUmVmVmFsdWUgfHwgXCJcIikudHJpbSgpLFxyXG4gICAgICByb3dOdW1iZXIsXHJcbiAgICAgIG9yaWdpbmFsRGF0YTogcm93XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBNQVRDSElORyAtIEFsZ29yaXRobWUgZGUgY29ycmVzcG9uZGFuY2UgbXVsdGktbml2ZWF1XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2R1Y3RLZXkobW9kZWxSZWY6IHN0cmluZywgY29sb3I6IHN0cmluZywgc2l6ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gYCR7bm9ybWFsaXplU3RyaW5nKG1vZGVsUmVmKX18JHtub3JtYWxpemVTdHJpbmcoY29sb3IpfXwke25vcm1hbGl6ZVN0cmluZyhzaXplKX1gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kQmVzdE1hdGNoKFxyXG4gIHJvdzogTm9ybWFsaXplZFJvdyxcclxuICBwcm9kdWN0czogUHJvZHVjdFtdLFxyXG4gIHByb2R1Y3RJbmRleE1hcDogTWFwPHN0cmluZywgbnVtYmVyPlxyXG4pOiBNYXRjaFJlc3VsdCB8IG51bGwge1xyXG4gIFxyXG4gIC8vIE5JVkVBVSAxOiBNYXRjaCBwYXIgSUQgZXhhY3QgKGNvbmZpYW5jZSAxMDAlKVxyXG4gIGlmIChyb3cuaWQpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKG5vcm1hbGl6ZVN0cmluZyhwcm9kdWN0c1tpXS5pZCkgPT09IHJvdy5pZCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0c1tpXSxcclxuICAgICAgICAgIHByb2R1Y3RJbmRleDogaSxcclxuICAgICAgICAgIG1hdGNoVHlwZTogXCJpZFwiLFxyXG4gICAgICAgICAgY29uZmlkZW5jZTogMTAwXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgcm93TW9kZWxSZWYgPSBub3JtYWxpemVTdHJpbmcocm93Lm1vZGVsUmVmKTtcclxuICBjb25zdCByb3dDb2xvciA9IG5vcm1hbGl6ZVN0cmluZyhyb3cuY29sb3IpO1xyXG4gIGNvbnN0IHJvd1NpemUgPSBub3JtYWxpemVTdHJpbmcocm93LnNpemUpO1xyXG5cclxuICAvLyBOSVZFQVUgMjogTWF0Y2ggcGFyIG1vZGVsUmVmICsgY29sb3IgKyBzaXplIChjb25maWFuY2UgOTUlKVxyXG4gIGlmIChyb3dNb2RlbFJlZiAmJiByb3dDb2xvciAmJiByb3dTaXplKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHAgPSBwcm9kdWN0c1tpXTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIG5vcm1hbGl6ZVN0cmluZyhwLm1vZGVsUmVmKSA9PT0gcm93TW9kZWxSZWYgJiZcclxuICAgICAgICBub3JtYWxpemVTdHJpbmcocC5jb2xvcikgPT09IHJvd0NvbG9yICYmXHJcbiAgICAgICAgbm9ybWFsaXplU3RyaW5nKHAuc2l6ZSkgPT09IHJvd1NpemVcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHByb2R1Y3Q6IHAsXHJcbiAgICAgICAgICBwcm9kdWN0SW5kZXg6IGksXHJcbiAgICAgICAgICBtYXRjaFR5cGU6IFwibW9kZWxSZWYrY29sb3Irc2l6ZVwiLFxyXG4gICAgICAgICAgY29uZmlkZW5jZTogOTVcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBOSVZFQVUgMzogTWF0Y2ggcGFyIG1vZGVsUmVmICsgY29sb3IgKGNvbmZpYW5jZSA4NSUpXHJcbiAgaWYgKHJvd01vZGVsUmVmICYmIHJvd0NvbG9yKSB7XHJcbiAgICBjb25zdCBtYXRjaGVzOiBBcnJheTx7IHByb2R1Y3Q6IFByb2R1Y3Q7IGluZGV4OiBudW1iZXIgfT4gPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgcCA9IHByb2R1Y3RzW2ldO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgbm9ybWFsaXplU3RyaW5nKHAubW9kZWxSZWYpID09PSByb3dNb2RlbFJlZiAmJlxyXG4gICAgICAgIG5vcm1hbGl6ZVN0cmluZyhwLmNvbG9yKSA9PT0gcm93Q29sb3JcclxuICAgICAgKSB7XHJcbiAgICAgICAgbWF0Y2hlcy5wdXNoKHsgcHJvZHVjdDogcCwgaW5kZXg6IGkgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJvZHVjdDogbWF0Y2hlc1swXS5wcm9kdWN0LFxyXG4gICAgICAgIHByb2R1Y3RJbmRleDogbWF0Y2hlc1swXS5pbmRleCxcclxuICAgICAgICBtYXRjaFR5cGU6IFwibW9kZWxSZWYrY29sb3JcIixcclxuICAgICAgICBjb25maWRlbmNlOiA4NVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAxICYmICFyb3dTaXplKSB7XHJcbiAgICAgIGNvbnN0IG5vU2l6ZU1hdGNoZXMgPSBtYXRjaGVzLmZpbHRlcihtID0+ICFtLnByb2R1Y3Quc2l6ZSB8fCBtLnByb2R1Y3Quc2l6ZSA9PT0gXCJcIik7XHJcbiAgICAgIGlmIChub1NpemVNYXRjaGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBwcm9kdWN0OiBub1NpemVNYXRjaGVzWzBdLnByb2R1Y3QsXHJcbiAgICAgICAgICBwcm9kdWN0SW5kZXg6IG5vU2l6ZU1hdGNoZXNbMF0uaW5kZXgsXHJcbiAgICAgICAgICBtYXRjaFR5cGU6IFwibW9kZWxSZWYrY29sb3JcIixcclxuICAgICAgICAgIGNvbmZpZGVuY2U6IDgwXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gTklWRUFVIDQ6IE1hdGNoIHBhciBtb2RlbFJlZiBzZXVsIChjb25maWFuY2UgNzAlKVxyXG4gIGlmIChyb3dNb2RlbFJlZikge1xyXG4gICAgY29uc3QgbWF0Y2hlczogQXJyYXk8eyBwcm9kdWN0OiBQcm9kdWN0OyBpbmRleDogbnVtYmVyIH0+ID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChub3JtYWxpemVTdHJpbmcocHJvZHVjdHNbaV0ubW9kZWxSZWYpID09PSByb3dNb2RlbFJlZikge1xyXG4gICAgICAgIG1hdGNoZXMucHVzaCh7IHByb2R1Y3Q6IHByb2R1Y3RzW2ldLCBpbmRleDogaSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBwcm9kdWN0OiBtYXRjaGVzWzBdLnByb2R1Y3QsXHJcbiAgICAgICAgcHJvZHVjdEluZGV4OiBtYXRjaGVzWzBdLmluZGV4LFxyXG4gICAgICAgIG1hdGNoVHlwZTogXCJtb2RlbFJlZlwiLFxyXG4gICAgICAgIGNvbmZpZGVuY2U6IDcwXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVTdWdnZXN0aW9ucyhyb3c6IE5vcm1hbGl6ZWRSb3csIHByb2R1Y3RzOiBQcm9kdWN0W10pOiBzdHJpbmdbXSB7XHJcbiAgY29uc3Qgc3VnZ2VzdGlvbnM6IHN0cmluZ1tdID0gW107XHJcbiAgY29uc3Qgcm93TW9kZWxSZWYgPSBub3JtYWxpemVTdHJpbmcocm93Lm1vZGVsUmVmKTtcclxuICBcclxuICBpZiAoIXJvd01vZGVsUmVmKSByZXR1cm4gc3VnZ2VzdGlvbnM7XHJcblxyXG4gIGNvbnN0IHNhbWVSZWZQcm9kdWN0cyA9IHByb2R1Y3RzLmZpbHRlcihcclxuICAgIHAgPT4gbm9ybWFsaXplU3RyaW5nKHAubW9kZWxSZWYpID09PSByb3dNb2RlbFJlZlxyXG4gICk7XHJcblxyXG4gIGlmIChzYW1lUmVmUHJvZHVjdHMubGVuZ3RoID4gMSkge1xyXG4gICAgc3VnZ2VzdGlvbnMucHVzaChg16DXntem15DXlSAke3NhbWVSZWZQcm9kdWN0cy5sZW5ndGh9INee15XXpteo15nXnSDXotedINee16fXtNeYIFwiJHtyb3cubW9kZWxSZWZ9XCI6YCk7XHJcbiAgICBzYW1lUmVmUHJvZHVjdHMuc2xpY2UoMCwgNSkuZm9yRWFjaChwID0+IHtcclxuICAgICAgY29uc3QgZGV0YWlscyA9IFtwLmNvbG9yLCBwLnNpemVdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIC8gXCIpO1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKGAgIOKAoiAke3AuaWR9OiAke2RldGFpbHMgfHwgXCLXnNec15Ag16bXkdeiL9ee15nXk9eUXCJ9YCk7XHJcbiAgICB9KTtcclxuICAgIGlmIChzYW1lUmVmUHJvZHVjdHMubGVuZ3RoID4gNSkge1xyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKGAgIC4uLiDXldei15XXkyAke3NhbWVSZWZQcm9kdWN0cy5sZW5ndGggLSA1fSDXnteV16bXqNeZ151gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzdWdnZXN0aW9ucztcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBHw4lOw4lSQVRJT04gRCdJRCBVTklRVUVcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVVbmlxdWVJZChwcm9kdWN0czogUHJvZHVjdFtdLCBtb2RlbFJlZjogc3RyaW5nLCBjb2xvcjogc3RyaW5nLCBleGlzdGluZ05ld0lkczogU2V0PHN0cmluZz4pOiBzdHJpbmcge1xyXG4gIGNvbnN0IGJhc2VJZCA9IG1vZGVsUmVmLnRvVXBwZXJDYXNlKCk7XHJcbiAgY29uc3QgY29sb3JTdWZmaXggPSBjb2xvciA/IGBfJHtjb2xvci5yZXBsYWNlKC9cXHMrL2csIFwiX1wiKS5zdWJzdHJpbmcoMCwgMTApLnRvVXBwZXJDYXNlKCl9YCA6IFwiXCI7XHJcbiAgXHJcbiAgbGV0IGNhbmRpZGF0ZUlkID0gYmFzZUlkICsgY29sb3JTdWZmaXg7XHJcbiAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gIFxyXG4gIGNvbnN0IGFsbEV4aXN0aW5nSWRzID0gbmV3IFNldChbXHJcbiAgICAuLi5wcm9kdWN0cy5tYXAocCA9PiBwLmlkLnRvVXBwZXJDYXNlKCkpLFxyXG4gICAgLi4uQXJyYXkuZnJvbShleGlzdGluZ05ld0lkcykubWFwKGlkID0+IGlkLnRvVXBwZXJDYXNlKCkpXHJcbiAgXSk7XHJcbiAgXHJcbiAgd2hpbGUgKGFsbEV4aXN0aW5nSWRzLmhhcyhjYW5kaWRhdGVJZC50b1VwcGVyQ2FzZSgpKSkge1xyXG4gICAgY291bnRlcisrO1xyXG4gICAgY2FuZGlkYXRlSWQgPSBgJHtiYXNlSWR9JHtjb2xvclN1ZmZpeH1fJHtjb3VudGVyfWA7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBjYW5kaWRhdGVJZDtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBCQUNLVVAgLSBTeXN0w6htZSBkZSBzYXV2ZWdhcmRlXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJhY2t1cChwcm9kdWN0c1BhdGg6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBiYWNrdXBEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJkYXRhXCIsIFwiYmFja3Vwc1wiKTtcclxuICAgIFxyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGJhY2t1cERpcikpIHtcclxuICAgICAgZnMubWtkaXJTeW5jKGJhY2t1cERpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgXCItXCIpO1xyXG4gICAgY29uc3QgYmFja3VwUGF0aCA9IHBhdGguam9pbihiYWNrdXBEaXIsIGBwcm9kdWN0cy1iYWNrdXAtJHt0aW1lc3RhbXB9Lmpzb25gKTtcclxuXHJcbiAgICBmcy5jb3B5RmlsZVN5bmMocHJvZHVjdHNQYXRoLCBiYWNrdXBQYXRoKTtcclxuICAgIFxyXG4gICAgY29uc3QgYmFja3VwcyA9IGZzLnJlYWRkaXJTeW5jKGJhY2t1cERpcilcclxuICAgICAgLmZpbHRlcihmID0+IGYuc3RhcnRzV2l0aChcInByb2R1Y3RzLWJhY2t1cC1cIikpXHJcbiAgICAgIC5zb3J0KClcclxuICAgICAgLnJldmVyc2UoKTtcclxuICAgIFxyXG4gICAgaWYgKGJhY2t1cHMubGVuZ3RoID4gNTApIHtcclxuICAgICAgYmFja3Vwcy5zbGljZSg1MCkuZm9yRWFjaChvbGRCYWNrdXAgPT4ge1xyXG4gICAgICAgIGZzLnVubGlua1N5bmMocGF0aC5qb2luKGJhY2t1cERpciwgb2xkQmFja3VwKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBiYWNrdXBQYXRoO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIGNyw6lhdGlvbiBiYWNrdXA6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQQVJTSU5HIC0gTGVjdHVyZSBkZXMgZmljaGllcnMgRXhjZWwvQ1NWXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlRXhjZWwoYnVmZmVyOiBBcnJheUJ1ZmZlcik6IFVwbG9hZFJvd1tdIHtcclxuICBjb25zdCB3b3JrYm9vayA9IFhMU1gucmVhZChidWZmZXIsIHsgXHJcbiAgICB0eXBlOiBcImFycmF5XCIsXHJcbiAgICBjZWxsRGF0ZXM6IHRydWUsXHJcbiAgICBjZWxsTkY6IGZhbHNlLFxyXG4gICAgY2VsbFRleHQ6IGZhbHNlXHJcbiAgfSk7XHJcbiAgXHJcbiAgY29uc3QgZmlyc3RTaGVldE5hbWUgPSB3b3JrYm9vay5TaGVldE5hbWVzWzBdO1xyXG4gIGlmICghZmlyc3RTaGVldE5hbWUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIteU16fXldeR16Ug15zXkCDXnteb15nXnCDXkteZ15zXmdeV16DXldeqXCIpO1xyXG4gIH1cclxuICBcclxuICBjb25zdCB3b3Jrc2hlZXQgPSB3b3JrYm9vay5TaGVldHNbZmlyc3RTaGVldE5hbWVdO1xyXG4gIFxyXG4gIGNvbnN0IGRhdGEgPSBYTFNYLnV0aWxzLnNoZWV0X3RvX2pzb248VXBsb2FkUm93Pih3b3Jrc2hlZXQsIHtcclxuICAgIGRlZnZhbDogXCJcIixcclxuICAgIHJhdzogdHJ1ZSxcclxuICAgIGJsYW5rcm93czogZmFsc2VcclxuICB9KTtcclxuICBcclxuICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VDU1YodGV4dDogc3RyaW5nKTogVXBsb2FkUm93W10ge1xyXG4gIGNvbnN0IGxpbmVzID0gdGV4dC5zcGxpdCgvXFxyP1xcbi8pLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpKTtcclxuICBcclxuICBpZiAobGluZXMubGVuZ3RoIDwgMikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwi15TXp9eV15HXpSDXl9eZ15nXkSDXnNeU15vXmdecINec16TXl9eV16og16nXldeo16og15vXldeq16jXldeqINeV16nXldeo16og16DXqteV16DXmdedINeQ15fXqlwiKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGhlYWRlcnMgPSBwYXJzZUNTVkxpbmUobGluZXNbMF0pO1xyXG4gIFxyXG4gIGlmIChoZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwi15zXkCDXoNee16bXkNeVINei157XldeT15XXqiDXkden15XXkdelXCIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZGF0YTogVXBsb2FkUm93W10gPSBbXTtcclxuICBcclxuICBmb3IgKGxldCBpID0gMTsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSBwYXJzZUNTVkxpbmUobGluZXNbaV0pO1xyXG4gICAgXHJcbiAgICBpZiAodmFsdWVzLmV2ZXJ5KHYgPT4gIXYudHJpbSgpKSkgY29udGludWU7XHJcbiAgICBcclxuICAgIGNvbnN0IHJvdzogVXBsb2FkUm93ID0ge307XHJcbiAgICBoZWFkZXJzLmZvckVhY2goKGhlYWRlciwgaW5kZXgpID0+IHtcclxuICAgICAgcm93W2hlYWRlci50cmltKCldID0gdmFsdWVzW2luZGV4XT8udHJpbSgpIHx8IFwiXCI7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgZGF0YS5wdXNoKHJvdyk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUNTVkxpbmUobGluZTogc3RyaW5nKTogc3RyaW5nW10ge1xyXG4gIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcclxuICBsZXQgY3VycmVudCA9IFwiXCI7XHJcbiAgbGV0IGluUXVvdGVzID0gZmFsc2U7XHJcbiAgXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBjaGFyID0gbGluZVtpXTtcclxuICAgIGNvbnN0IG5leHRDaGFyID0gbGluZVtpICsgMV07XHJcbiAgICBcclxuICAgIGlmIChjaGFyID09PSAnXCInKSB7XHJcbiAgICAgIGlmIChpblF1b3RlcyAmJiBuZXh0Q2hhciA9PT0gJ1wiJykge1xyXG4gICAgICAgIGN1cnJlbnQgKz0gJ1wiJztcclxuICAgICAgICBpKys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5RdW90ZXMgPSAhaW5RdW90ZXM7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJywnICYmICFpblF1b3Rlcykge1xyXG4gICAgICByZXN1bHQucHVzaChjdXJyZW50KTtcclxuICAgICAgY3VycmVudCA9IFwiXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdXJyZW50ICs9IGNoYXI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJlc3VsdC5wdXNoKGN1cnJlbnQpO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVFJBSVRFTUVOVCBQUklOQ0lQQUxcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1VwbG9hZChcclxuICBmaWxlQnVmZmVyOiBBcnJheUJ1ZmZlciB8IHN0cmluZyxcclxuICBpc0V4Y2VsOiBib29sZWFuLFxyXG4gIGRyeVJ1bjogYm9vbGVhblxyXG4pOiBQcm9taXNlPFByb2Nlc3NpbmdSZXN1bHQ+IHtcclxuICBcclxuICBjb25zdCBwcm9kdWN0c1BhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJkYXRhXCIsIFwicHJvZHVjdHMuanNvblwiKTtcclxuICBcclxuICBpZiAoIWZzLmV4aXN0c1N5bmMocHJvZHVjdHNQYXRoKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwi16fXldeR16Ug15TXnteV16bXqNeZ150g15zXkCDXoNee16bXkFwiKTtcclxuICB9XHJcblxyXG4gIGxldCBwcm9kdWN0czogUHJvZHVjdFtdO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0c0RhdGEgPSBmcy5yZWFkRmlsZVN5bmMocHJvZHVjdHNQYXRoLCBcInV0Zi04XCIpO1xyXG4gICAgcHJvZHVjdHMgPSBKU09OLnBhcnNlKHByb2R1Y3RzRGF0YSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcItep15LXmdeQ15Qg15HXp9eo15nXkNeqINen15XXkdelINeU157Xldem16jXmdedXCIpO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFBcnJheS5pc0FycmF5KHByb2R1Y3RzKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwi16TXldeo157XmCDXp9eV15HXpSDXlNee15XXpteo15nXnSDXnNeQINeq16fXmdefXCIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcHJvZHVjdEluZGV4TWFwID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcclxuICBwcm9kdWN0cy5mb3JFYWNoKChwLCBpbmRleCkgPT4ge1xyXG4gICAgcHJvZHVjdEluZGV4TWFwLnNldChwLmlkLCBpbmRleCk7XHJcbiAgfSk7XHJcblxyXG4gIGxldCB1cGxvYWRlZFJvd3M6IFVwbG9hZFJvd1tdO1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoaXNFeGNlbCkge1xyXG4gICAgICB1cGxvYWRlZFJvd3MgPSBwYXJzZUV4Y2VsKGZpbGVCdWZmZXIgYXMgQXJyYXlCdWZmZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdXBsb2FkZWRSb3dzID0gcGFyc2VDU1YoZmlsZUJ1ZmZlciBhcyBzdHJpbmcpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYNep15LXmdeQ15Qg15HXp9eo15nXkNeqINeU16fXldeR16U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcItep15LXmdeQ15Qg15zXkCDXmdeT15XXoteUXCJ9YCk7XHJcbiAgfVxyXG5cclxuICBpZiAodXBsb2FkZWRSb3dzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwi15TXp9eV15HXpSDXqNeZ16cg15DXlSDXnNeQINee15vXmdecINeg16rXldeg15nXnSDXqten15nXoNeZ151cIik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBub3JtYWxpemVkUm93czogTm9ybWFsaXplZFJvd1tdID0gW107XHJcbiAgY29uc3QgZXJyb3JzOiBFcnJvckl0ZW1bXSA9IFtdO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHVwbG9hZGVkUm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3Qgcm93TnVtYmVyID0gaSArIDI7XHJcbiAgICBjb25zdCByZXN1bHQgPSBub3JtYWxpemVSb3codXBsb2FkZWRSb3dzW2ldLCByb3dOdW1iZXIpO1xyXG4gICAgXHJcbiAgICBpZiAocmVzdWx0LnZhbGlkICYmIHJlc3VsdC5kYXRhKSB7XHJcbiAgICAgIG5vcm1hbGl6ZWRSb3dzLnB1c2gocmVzdWx0LmRhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXJyb3JzLnB1c2goe1xyXG4gICAgICAgIHJvd051bWJlcixcclxuICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfHwgXCLXqdeS15nXkNeUINec15Ag15nXk9eV16LXlFwiLFxyXG4gICAgICAgIGRhdGE6IHVwbG9hZGVkUm93c1tpXVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIETDqXRlY3Rpb24gZGVzIGRvdWJsb25zXHJcbiAgY29uc3Qgc2VlbktleXMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyW10+KCk7XHJcbiAgY29uc3QgZHVwbGljYXRlc0luRmlsZTogQXJyYXk8e1xyXG4gICAgcm93TnVtYmVyczogbnVtYmVyW107XHJcbiAgICBtb2RlbFJlZjogc3RyaW5nO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIHNpemU6IHN0cmluZztcclxuICB9PiA9IFtdO1xyXG5cclxuICBub3JtYWxpemVkUm93cy5mb3JFYWNoKHJvdyA9PiB7XHJcbiAgICBjb25zdCBrZXkgPSBjcmVhdGVQcm9kdWN0S2V5KHJvdy5tb2RlbFJlZiwgcm93LmNvbG9yLCByb3cuc2l6ZSk7XHJcbiAgICBjb25zdCBleGlzdGluZyA9IHNlZW5LZXlzLmdldChrZXkpO1xyXG4gICAgaWYgKGV4aXN0aW5nKSB7XHJcbiAgICAgIGV4aXN0aW5nLnB1c2gocm93LnJvd051bWJlcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZWVuS2V5cy5zZXQoa2V5LCBbcm93LnJvd051bWJlcl0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBzZWVuS2V5cy5mb3JFYWNoKChyb3dOdW1iZXJzLCBrZXkpID0+IHtcclxuICAgIGlmIChyb3dOdW1iZXJzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgY29uc3QgW21vZGVsUmVmLCBjb2xvciwgc2l6ZV0gPSBrZXkuc3BsaXQoXCJ8XCIpO1xyXG4gICAgICBkdXBsaWNhdGVzSW5GaWxlLnB1c2goe1xyXG4gICAgICAgIHJvd051bWJlcnMsXHJcbiAgICAgICAgbW9kZWxSZWYsXHJcbiAgICAgICAgY29sb3IsXHJcbiAgICAgICAgc2l6ZVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJvd051bWJlcnMuc2xpY2UoMSkuZm9yRWFjaChyb3dOdW0gPT4ge1xyXG4gICAgICAgIGVycm9ycy5wdXNoKHtcclxuICAgICAgICAgIHJvd051bWJlcjogcm93TnVtLFxyXG4gICAgICAgICAgbWVzc2FnZTogYNep15XXqNeUINeb16TXldec15QgLSDXkNeV16rXlSDXnteV16bXqCDXnteV16TXmdeiINeS150g15HXqdeV16jXlCAke3Jvd051bWJlcnNbMF19YCxcclxuICAgICAgICAgIGRhdGE6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHVuaXF1ZVJvd3MgPSBub3JtYWxpemVkUm93cy5maWx0ZXIocm93ID0+IHtcclxuICAgIGNvbnN0IGtleSA9IGNyZWF0ZVByb2R1Y3RLZXkocm93Lm1vZGVsUmVmLCByb3cuY29sb3IsIHJvdy5zaXplKTtcclxuICAgIGNvbnN0IHJvd051bWJlcnMgPSBzZWVuS2V5cy5nZXQoa2V5KTtcclxuICAgIHJldHVybiByb3dOdW1iZXJzICYmIHJvd051bWJlcnNbMF0gPT09IHJvdy5yb3dOdW1iZXI7XHJcbiAgfSk7XHJcblxyXG4gIC8vIE1hdGNoaW5nIGV0IGNyw6lhdGlvblxyXG4gIGNvbnN0IG9wZXJhdGlvbnM6IFVwZGF0ZU9wZXJhdGlvbltdID0gW107XHJcbiAgY29uc3QgY3JlYXRpb25zOiBDcmVhdGVPcGVyYXRpb25bXSA9IFtdO1xyXG4gIGNvbnN0IG5vdEZvdW5kOiBOb3RGb3VuZEl0ZW1bXSA9IFtdO1xyXG4gIGNvbnN0IHVzZWRQcm9kdWN0SW5kaWNlcyA9IG5ldyBTZXQ8bnVtYmVyPigpO1xyXG4gIGNvbnN0IG5ld1Byb2R1Y3RJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgZm9yIChjb25zdCByb3cgb2YgdW5pcXVlUm93cykge1xyXG4gICAgY29uc3QgbWF0Y2ggPSBmaW5kQmVzdE1hdGNoKHJvdywgcHJvZHVjdHMsIHByb2R1Y3RJbmRleE1hcCk7XHJcbiAgICBcclxuICAgIGlmIChtYXRjaCkge1xyXG4gICAgICBpZiAodXNlZFByb2R1Y3RJbmRpY2VzLmhhcyhtYXRjaC5wcm9kdWN0SW5kZXgpKSB7XHJcbiAgICAgICAgZXJyb3JzLnB1c2goe1xyXG4gICAgICAgICAgcm93TnVtYmVyOiByb3cucm93TnVtYmVyLFxyXG4gICAgICAgICAgbWVzc2FnZTogYNeU157Xldem16ggJHttYXRjaC5wcm9kdWN0LmlkfSDXm9eR16gg16LXldeT15vXnyDXkden15XXkdelINeW15RgLFxyXG4gICAgICAgICAgZGF0YTogcm93Lm9yaWdpbmFsRGF0YVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB1c2VkUHJvZHVjdEluZGljZXMuYWRkKG1hdGNoLnByb2R1Y3RJbmRleCk7XHJcbiAgICAgIFxyXG4gICAgICBvcGVyYXRpb25zLnB1c2goe1xyXG4gICAgICAgIHJvd051bWJlcjogcm93LnJvd051bWJlcixcclxuICAgICAgICBwcm9kdWN0SWQ6IG1hdGNoLnByb2R1Y3QuaWQsXHJcbiAgICAgICAgcHJvZHVjdEluZGV4OiBtYXRjaC5wcm9kdWN0SW5kZXgsXHJcbiAgICAgICAgbW9kZWxSZWY6IG1hdGNoLnByb2R1Y3QubW9kZWxSZWYsXHJcbiAgICAgICAgY29sb3I6IG1hdGNoLnByb2R1Y3QuY29sb3IsXHJcbiAgICAgICAgc2l6ZTogbWF0Y2gucHJvZHVjdC5zaXplLFxyXG4gICAgICAgIG9sZFN0b2NrOiBtYXRjaC5wcm9kdWN0LnN0b2NrUXVhbnRpdHksXHJcbiAgICAgICAgbmV3U3RvY2s6IHJvdy5zdG9ja1F1YW50aXR5LFxyXG4gICAgICAgIG1hdGNoVHlwZTogbWF0Y2gubWF0Y2hUeXBlLFxyXG4gICAgICAgIGNvbmZpZGVuY2U6IG1hdGNoLmNvbmZpZGVuY2VcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBWw6lyaWZpZXIgcydpbCB5IGEgcGx1c2lldXJzIHByb2R1aXRzIGF2ZWMgbGUgbcOqbWUgbW9kZWxSZWZcclxuICAgICAgY29uc3Qgcm93TW9kZWxSZWYgPSBub3JtYWxpemVTdHJpbmcocm93Lm1vZGVsUmVmKTtcclxuICAgICAgY29uc3Qgc2FtZVJlZlByb2R1Y3RzID0gcHJvZHVjdHMuZmlsdGVyKFxyXG4gICAgICAgIHAgPT4gbm9ybWFsaXplU3RyaW5nKHAubW9kZWxSZWYpID09PSByb3dNb2RlbFJlZlxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgaWYgKHNhbWVSZWZQcm9kdWN0cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgLy8gUGx1c2lldXJzIHByb2R1aXRzIGF2ZWMgbcOqbWUgcmVmID0gYW1iaWd1w690w6ksIG5lIHBhcyBjcsOpZXJcclxuICAgICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IGdlbmVyYXRlU3VnZ2VzdGlvbnMocm93LCBwcm9kdWN0cyk7XHJcbiAgICAgICAgbm90Rm91bmQucHVzaCh7XHJcbiAgICAgICAgICByb3dOdW1iZXI6IHJvdy5yb3dOdW1iZXIsXHJcbiAgICAgICAgICBtb2RlbFJlZjogcm93Lm1vZGVsUmVmLFxyXG4gICAgICAgICAgY29sb3I6IHJvdy5jb2xvcixcclxuICAgICAgICAgIHNpemU6IHJvdy5zaXplLFxyXG4gICAgICAgICAgcmVxdWVzdGVkU3RvY2s6IHJvdy5zdG9ja1F1YW50aXR5LFxyXG4gICAgICAgICAgcmVhc29uOiBcIteg157XpteQ15Ug157Xodek16gg157Xldem16jXmdedINei150g15DXldeq15Ug157Xp9e015ggLSDXmdepINec16bXmdeZ158g16bXkdeiL9ee15nXk9eUINee15PXldeZ16fXmdedXCIsXHJcbiAgICAgICAgICBzdWdnZXN0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEF1Y3VuIHByb2R1aXQgdHJvdXbDqSBPVSB1biBzZXVsIHByb2R1aXQgbWFpcyBwYXMgZGUgbWF0Y2ggZXhhY3QgPSBDUsOJRVIgbm91dmVhdSBwcm9kdWl0XHJcbiAgICAgICAgY29uc3QgbmV3SWQgPSBnZW5lcmF0ZVVuaXF1ZUlkKHByb2R1Y3RzLCByb3cubW9kZWxSZWYsIHJvdy5jb2xvciwgbmV3UHJvZHVjdElkcyk7XHJcbiAgICAgICAgbmV3UHJvZHVjdElkcy5hZGQobmV3SWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG5ld1Byb2R1Y3Q6IFByb2R1Y3QgPSB7XHJcbiAgICAgICAgICBpZDogbmV3SWQsXHJcbiAgICAgICAgICBjb2xsZWN0aW9uOiByb3cuY29sbGVjdGlvbiB8fCBcIlwiLFxyXG4gICAgICAgICAgY2F0ZWdvcnk6IHJvdy5jYXRlZ29yeSB8fCBcIlwiLFxyXG4gICAgICAgICAgc3ViY2F0ZWdvcnk6IHJvdy5zdWJjYXRlZ29yeSB8fCBcIlwiLFxyXG4gICAgICAgICAgYnJhbmQ6IHJvdy5icmFuZCB8fCBcIkdVRVNTXCIsXHJcbiAgICAgICAgICBtb2RlbFJlZjogcm93Lm1vZGVsUmVmLnRvVXBwZXJDYXNlKCksXHJcbiAgICAgICAgICBnZW5kZXI6IHJvdy5nZW5kZXIgfHwgXCJcIixcclxuICAgICAgICAgIHN1cHBsaWVyOiByb3cuc3VwcGxpZXIgfHwgXCJcIixcclxuICAgICAgICAgIGNvbG9yOiByb3cuY29sb3IsXHJcbiAgICAgICAgICBwcmljZVJldGFpbDogcm93LnByaWNlUmV0YWlsLFxyXG4gICAgICAgICAgcHJpY2VXaG9sZXNhbGU6IHJvdy5wcmljZVdob2xlc2FsZSxcclxuICAgICAgICAgIHN0b2NrUXVhbnRpdHk6IHJvdy5zdG9ja1F1YW50aXR5LFxyXG4gICAgICAgICAgaW1hZ2VVcmw6IHJvdy5pbWFnZVVybCB8fCBcIi9pbWFnZXMvZGVmYXVsdC5wbmdcIixcclxuICAgICAgICAgIGdhbGxlcnk6IFtdLFxyXG4gICAgICAgICAgcHJvZHVjdE5hbWU6IHJvdy5wcm9kdWN0TmFtZSB8fCByb3cubW9kZWxSZWYsXHJcbiAgICAgICAgICBzaXplOiByb3cuc2l6ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgY3JlYXRpb25zLnB1c2goe1xyXG4gICAgICAgICAgcm93TnVtYmVyOiByb3cucm93TnVtYmVyLFxyXG4gICAgICAgICAgbmV3UHJvZHVjdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBcHBsaXF1ZXIgbGVzIG1vZGlmaWNhdGlvbnNcclxuICBsZXQgYmFja3VwUGF0aDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgXHJcbiAgaWYgKCFkcnlSdW4gJiYgKG9wZXJhdGlvbnMubGVuZ3RoID4gMCB8fCBjcmVhdGlvbnMubGVuZ3RoID4gMCkpIHtcclxuICAgIGJhY2t1cFBhdGggPSBjcmVhdGVCYWNrdXAocHJvZHVjdHNQYXRoKTtcclxuICAgIFxyXG4gICAgaWYgKCFiYWNrdXBQYXRoKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcItep15LXmdeQ15Qg15HXmdem15nXqNeqINeS15nXkdeV15kgLSDXlNei15PXm9eV158g15HXldeY15wg15zXnteg15nXoteqINeQ15XXkdeT158g16DXqteV16DXmdedXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwcGxpcXVlciBsZXMgbWlzZXMgw6Agam91clxyXG4gICAgZm9yIChjb25zdCBvcCBvZiBvcGVyYXRpb25zKSB7XHJcbiAgICAgIHByb2R1Y3RzW29wLnByb2R1Y3RJbmRleF0uc3RvY2tRdWFudGl0eSA9IG9wLm5ld1N0b2NrO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBBam91dGVyIGxlcyBub3V2ZWF1eCBwcm9kdWl0c1xyXG4gICAgZm9yIChjb25zdCBjcmVhdGlvbiBvZiBjcmVhdGlvbnMpIHtcclxuICAgICAgcHJvZHVjdHMucHVzaChjcmVhdGlvbi5uZXdQcm9kdWN0KTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKHByb2R1Y3RzUGF0aCwgSlNPTi5zdHJpbmdpZnkocHJvZHVjdHMsIG51bGwsIDQpLCBcInV0Zi04XCIpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgaWYgKGJhY2t1cFBhdGggJiYgZnMuZXhpc3RzU3luYyhiYWNrdXBQYXRoKSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBmcy5jb3B5RmlsZVN5bmMoYmFja3VwUGF0aCwgcHJvZHVjdHNQYXRoKTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIC8vIENyaXRpY2FsIGVycm9yXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcItep15LXmdeQ15Qg15HXqdee15nXqNeqINeU16DXqteV16DXmdedIC0g15TXkteZ15HXldeZINeg16nXnteoXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBkcnlSdW4sXHJcbiAgICBiYWNrdXBQYXRoLFxyXG4gICAgc3VtbWFyeToge1xyXG4gICAgICB0b3RhbFJvd3M6IHVwbG9hZGVkUm93cy5sZW5ndGgsXHJcbiAgICAgIHZhbGlkUm93czogbm9ybWFsaXplZFJvd3MubGVuZ3RoLFxyXG4gICAgICB0b1VwZGF0ZTogb3BlcmF0aW9ucy5sZW5ndGgsXHJcbiAgICAgIHRvQ3JlYXRlOiBjcmVhdGlvbnMubGVuZ3RoLFxyXG4gICAgICBub3RGb3VuZDogbm90Rm91bmQubGVuZ3RoLFxyXG4gICAgICBlcnJvcnM6IGVycm9ycy5sZW5ndGgsXHJcbiAgICAgIGR1cGxpY2F0ZXNJbkZpbGU6IGR1cGxpY2F0ZXNJbkZpbGUubGVuZ3RoXHJcbiAgICB9LFxyXG4gICAgb3BlcmF0aW9ucyxcclxuICAgIGNyZWF0aW9ucyxcclxuICAgIG5vdEZvdW5kLFxyXG4gICAgZXJyb3JzLFxyXG4gICAgZHVwbGljYXRlc0luRmlsZVxyXG4gIH07XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQVBJIEVORFBPSU5UU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcclxuICAgIGNvbnN0IGZpbGUgPSBmb3JtRGF0YS5nZXQoXCJmaWxlXCIpIGFzIEZpbGUgfCBudWxsO1xyXG4gICAgY29uc3QgZHJ5UnVuUGFyYW0gPSBmb3JtRGF0YS5nZXQoXCJkcnlSdW5cIikgYXMgc3RyaW5nO1xyXG4gICAgY29uc3QgZHJ5UnVuID0gZHJ5UnVuUGFyYW0gPT09IFwidHJ1ZVwiO1xyXG5cclxuICAgIGlmICghZmlsZSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwi15zXkCDXoNeR15fXqCDXp9eV15HXpVwiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpbGUuc2l6ZSA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwi15TXp9eV15HXpSDXqNeZ16dcIiB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWxlLnNpemUgPiAxMCAqIDEwMjQgKiAxMDI0KSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCLXlNen15XXkdelINeS15PXldecINee15PXmSAo157Xp9eh15nXnteV150gMTBNQilcIiB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBpc0V4Y2VsID0gZmlsZU5hbWUuZW5kc1dpdGgoXCIueGxzeFwiKSB8fCBmaWxlTmFtZS5lbmRzV2l0aChcIi54bHNcIik7XHJcbiAgICBjb25zdCBpc0NTViA9IGZpbGVOYW1lLmVuZHNXaXRoKFwiLmNzdlwiKTtcclxuXHJcbiAgICBpZiAoIWlzRXhjZWwgJiYgIWlzQ1NWKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCLXpNeV16jXnteYINen15XXkdelINec15Ag16DXqtee15ouINeU16nXqtee16kg15EtLnhsc3gsIC54bHMg15DXlSAuY3N2XCIgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZmlsZUNvbnRlbnQ6IEFycmF5QnVmZmVyIHwgc3RyaW5nO1xyXG4gICAgaWYgKGlzRXhjZWwpIHtcclxuICAgICAgZmlsZUNvbnRlbnQgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmaWxlQ29udGVudCA9IGF3YWl0IGZpbGUudGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NVcGxvYWQoZmlsZUNvbnRlbnQsIGlzRXhjZWwsIGRyeVJ1bik7XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRyeVJ1bjogcmVzdWx0LmRyeVJ1bixcclxuICAgICAgbWVzc2FnZTogcmVzdWx0LmRyeVJ1biBcclxuICAgICAgICA/IGDXntem15Eg16rXpteV15LXlCDXnten15PXmdee15Q6ICR7cmVzdWx0LnN1bW1hcnkudG9VcGRhdGV9INeZ16LXldeT15vXoNeVLCAke3Jlc3VsdC5zdW1tYXJ5LnRvQ3JlYXRlfSDXmdeZ15XXldem16jXlWBcclxuICAgICAgICA6IGAke3Jlc3VsdC5zdW1tYXJ5LnRvVXBkYXRlfSDXnteV16bXqNeZ150g16LXldeT15vXoNeVLCAke3Jlc3VsdC5zdW1tYXJ5LnRvQ3JlYXRlfSDXnteV16bXqNeZ150g16DXldem16jXlWAsXHJcbiAgICAgIGJhY2t1cFBhdGg6IHJlc3VsdC5iYWNrdXBQYXRoLFxyXG4gICAgICBzdW1tYXJ5OiByZXN1bHQuc3VtbWFyeSxcclxuICAgICAgcmVwb3J0OiB7XHJcbiAgICAgICAgdXBkYXRlZDogcmVzdWx0Lm9wZXJhdGlvbnMubWFwKG9wID0+ICh7XHJcbiAgICAgICAgICBpZDogb3AucHJvZHVjdElkLFxyXG4gICAgICAgICAgbW9kZWxSZWY6IG9wLm1vZGVsUmVmLFxyXG4gICAgICAgICAgY29sb3I6IG9wLmNvbG9yLFxyXG4gICAgICAgICAgc2l6ZTogb3Auc2l6ZSxcclxuICAgICAgICAgIG9sZFN0b2NrOiBvcC5vbGRTdG9jayxcclxuICAgICAgICAgIG5ld1N0b2NrOiBvcC5uZXdTdG9jayxcclxuICAgICAgICAgIG1hdGNoVHlwZTogb3AubWF0Y2hUeXBlLFxyXG4gICAgICAgICAgY29uZmlkZW5jZTogb3AuY29uZmlkZW5jZSxcclxuICAgICAgICAgIHJvd051bWJlcjogb3Aucm93TnVtYmVyXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICAgIGNyZWF0ZWQ6IHJlc3VsdC5jcmVhdGlvbnMubWFwKGMgPT4gKHtcclxuICAgICAgICAgIGlkOiBjLm5ld1Byb2R1Y3QuaWQsXHJcbiAgICAgICAgICBtb2RlbFJlZjogYy5uZXdQcm9kdWN0Lm1vZGVsUmVmLFxyXG4gICAgICAgICAgY29sb3I6IGMubmV3UHJvZHVjdC5jb2xvcixcclxuICAgICAgICAgIHNpemU6IGMubmV3UHJvZHVjdC5zaXplLFxyXG4gICAgICAgICAgc3RvY2s6IGMubmV3UHJvZHVjdC5zdG9ja1F1YW50aXR5LFxyXG4gICAgICAgICAgcm93TnVtYmVyOiBjLnJvd051bWJlclxyXG4gICAgICAgIH0pKSxcclxuICAgICAgICBub3RGb3VuZDogcmVzdWx0Lm5vdEZvdW5kLm1hcChuZiA9PiAoe1xyXG4gICAgICAgICAgcm93OiBuZi5yb3dOdW1iZXIsXHJcbiAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgIHJlZmVyZW5jZTogbmYubW9kZWxSZWYsXHJcbiAgICAgICAgICAgIGNvbG9yOiBuZi5jb2xvcixcclxuICAgICAgICAgICAgc2l6ZTogbmYuc2l6ZSxcclxuICAgICAgICAgICAgc3RvY2s6IG5mLnJlcXVlc3RlZFN0b2NrXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVhc29uOiBuZi5yZWFzb24sXHJcbiAgICAgICAgICBzdWdnZXN0aW9uczogbmYuc3VnZ2VzdGlvbnNcclxuICAgICAgICB9KSksXHJcbiAgICAgICAgZXJyb3JzOiByZXN1bHQuZXJyb3JzLm1hcChlID0+ICh7XHJcbiAgICAgICAgICByb3c6IGUucm93TnVtYmVyLFxyXG4gICAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICAgIGR1cGxpY2F0ZXM6IHJlc3VsdC5kdXBsaWNhdGVzSW5GaWxlXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3BvbnNlKTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJVcGxvYWQgZXJyb3I6XCIsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwi16nXkteZ15DXlCDXnNeQINem16TXldeZ15RcIixcclxuICAgICAgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICBjb25zdCBmb3JtYXQgPSBzZWFyY2hQYXJhbXMuZ2V0KFwiZm9ybWF0XCIpIHx8IFwiY3N2XCI7XHJcblxyXG4gIGNvbnN0IGhlYWRlcnMgPSBbXCJpZFwiLCBcIm1vZGVsUmVmXCIsIFwiY29sb3JcIiwgXCJzaXplXCIsIFwic3RvY2tRdWFudGl0eVwiLCBcImNvbGxlY3Rpb25cIiwgXCJjYXRlZ29yeVwiLCBcImJyYW5kXCIsIFwicHJpY2VSZXRhaWxcIiwgXCJwcmljZVdob2xlc2FsZVwiXTtcclxuICBjb25zdCBleGFtcGxlUm93cyA9IFtcclxuICAgIFtcIkFBOTQ3MTQyXCIsIFwiQUE5NDcxNDJcIiwgXCJCTEFDSyBNVUxUSVwiLCBcIlwiLCBcIjEwXCIsIFwiRkFMTCAyMDI0XCIsIFwiYmFnXCIsIFwiR1VFU1NcIiwgXCIxOTkuOVwiLCBcIjk5Ljk1XCJdLFxyXG4gICAgW1wiXCIsIFwiTkVXX1BST0RVQ1RcIiwgXCJCTFVFXCIsIFwiTVwiLCBcIjVcIiwgXCJTUFJJTkcgMjAyNVwiLCBcInNob2VzXCIsIFwiR1VFU1NcIiwgXCIyOTkuOVwiLCBcIjE0OS45NVwiXSxcclxuICBdO1xyXG5cclxuICBpZiAoZm9ybWF0ID09PSBcImNzdlwiKSB7XHJcbiAgICBjb25zdCBjc3ZDb250ZW50ID0gW1xyXG4gICAgICBoZWFkZXJzLmpvaW4oXCIsXCIpLFxyXG4gICAgICAuLi5leGFtcGxlUm93cy5tYXAocm93ID0+IHJvdy5qb2luKFwiLFwiKSlcclxuICAgIF0uam9pbihcIlxcblwiKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShjc3ZDb250ZW50LCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvY3N2OyBjaGFyc2V0PXV0Zi04XCIsXHJcbiAgICAgICAgXCJDb250ZW50LURpc3Bvc2l0aW9uXCI6ICdhdHRhY2htZW50OyBmaWxlbmFtZT1cInRlbXBsYXRlLXN0b2NrLmNzdlwiJyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCB3b3JrYm9vayA9IFhMU1gudXRpbHMuYm9va19uZXcoKTtcclxuICAgIGNvbnN0IHdvcmtzaGVldCA9IFhMU1gudXRpbHMuYW9hX3RvX3NoZWV0KFtoZWFkZXJzLCAuLi5leGFtcGxlUm93c10pO1xyXG4gICAgd29ya3NoZWV0W1wiIWNvbHNcIl0gPSBoZWFkZXJzLm1hcCgoKSA9PiAoeyB3Y2g6IDE4IH0pKTtcclxuICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHdvcmtzaGVldCwgXCJTdG9ja1wiKTtcclxuXHJcbiAgICBjb25zdCBleGNlbEJ1ZmZlciA9IFhMU1gud3JpdGUod29ya2Jvb2ssIHtcclxuICAgICAgdHlwZTogXCJidWZmZXJcIixcclxuICAgICAgYm9va1R5cGU6IFwieGxzeFwiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoZXhjZWxCdWZmZXIsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXRcIixcclxuICAgICAgICBcIkNvbnRlbnQtRGlzcG9zaXRpb25cIjogJ2F0dGFjaG1lbnQ7IGZpbGVuYW1lPVwidGVtcGxhdGUtc3RvY2sueGxzeFwiJyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiWExTWCIsImZzIiwicGF0aCIsIm5vcm1hbGl6ZVN0cmluZyIsInZhbHVlIiwidW5kZWZpbmVkIiwic3RyIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwibm9ybWFsaXplIiwicmVwbGFjZSIsImV4dHJhY3RTdG9jayIsInZhbGlkIiwiZXJyb3IiLCJzdHJWYWx1ZSIsInRlc3QiLCJudW1WYWx1ZSIsInBhcnNlRmxvYXQiLCJpc05hTiIsInJvdW5kZWRWYWx1ZSIsIk1hdGgiLCJyb3VuZCIsImV4dHJhY3RQcmljZSIsIm1heCIsImZpbmRDb2x1bW5WYWx1ZSIsInJvdyIsInBvc3NpYmxlTmFtZXMiLCJuYW1lIiwicm93S2V5cyIsIk9iamVjdCIsImtleXMiLCJub3JtYWxpemVkTmFtZSIsImZvdW5kS2V5IiwiZmluZCIsImsiLCJub3JtYWxpemVSb3ciLCJyb3dOdW1iZXIiLCJpZFZhbHVlIiwibW9kZWxSZWZWYWx1ZSIsImNvbG9yVmFsdWUiLCJzaXplVmFsdWUiLCJzdG9ja1ZhbHVlIiwiY29sbGVjdGlvblZhbHVlIiwiY2F0ZWdvcnlWYWx1ZSIsInN1YmNhdGVnb3J5VmFsdWUiLCJicmFuZFZhbHVlIiwiZ2VuZGVyVmFsdWUiLCJzdXBwbGllclZhbHVlIiwicHJpY2VSZXRhaWxWYWx1ZSIsInByaWNlV2hvbGVzYWxlVmFsdWUiLCJpbWFnZVVybFZhbHVlIiwicHJvZHVjdE5hbWVWYWx1ZSIsImlkIiwibW9kZWxSZWYiLCJjb2xvciIsInNpemUiLCJzdG9ja1Jlc3VsdCIsImRhdGEiLCJzdG9ja1F1YW50aXR5IiwiY29sbGVjdGlvbiIsImNhdGVnb3J5Iiwic3ViY2F0ZWdvcnkiLCJicmFuZCIsImdlbmRlciIsInN1cHBsaWVyIiwicHJpY2VSZXRhaWwiLCJwcmljZVdob2xlc2FsZSIsImltYWdlVXJsIiwicHJvZHVjdE5hbWUiLCJvcmlnaW5hbERhdGEiLCJjcmVhdGVQcm9kdWN0S2V5IiwiZmluZEJlc3RNYXRjaCIsInByb2R1Y3RzIiwicHJvZHVjdEluZGV4TWFwIiwiaSIsImxlbmd0aCIsInByb2R1Y3QiLCJwcm9kdWN0SW5kZXgiLCJtYXRjaFR5cGUiLCJjb25maWRlbmNlIiwicm93TW9kZWxSZWYiLCJyb3dDb2xvciIsInJvd1NpemUiLCJwIiwibWF0Y2hlcyIsInB1c2giLCJpbmRleCIsIm5vU2l6ZU1hdGNoZXMiLCJmaWx0ZXIiLCJtIiwiZ2VuZXJhdGVTdWdnZXN0aW9ucyIsInN1Z2dlc3Rpb25zIiwic2FtZVJlZlByb2R1Y3RzIiwic2xpY2UiLCJmb3JFYWNoIiwiZGV0YWlscyIsIkJvb2xlYW4iLCJqb2luIiwiZ2VuZXJhdGVVbmlxdWVJZCIsImV4aXN0aW5nTmV3SWRzIiwiYmFzZUlkIiwidG9VcHBlckNhc2UiLCJjb2xvclN1ZmZpeCIsInN1YnN0cmluZyIsImNhbmRpZGF0ZUlkIiwiY291bnRlciIsImFsbEV4aXN0aW5nSWRzIiwiU2V0IiwibWFwIiwiQXJyYXkiLCJmcm9tIiwiaGFzIiwiY3JlYXRlQmFja3VwIiwicHJvZHVjdHNQYXRoIiwiYmFja3VwRGlyIiwicHJvY2VzcyIsImN3ZCIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJiYWNrdXBQYXRoIiwiY29weUZpbGVTeW5jIiwiYmFja3VwcyIsInJlYWRkaXJTeW5jIiwiZiIsInN0YXJ0c1dpdGgiLCJzb3J0IiwicmV2ZXJzZSIsIm9sZEJhY2t1cCIsInVubGlua1N5bmMiLCJjb25zb2xlIiwicGFyc2VFeGNlbCIsImJ1ZmZlciIsIndvcmtib29rIiwicmVhZCIsInR5cGUiLCJjZWxsRGF0ZXMiLCJjZWxsTkYiLCJjZWxsVGV4dCIsImZpcnN0U2hlZXROYW1lIiwiU2hlZXROYW1lcyIsIkVycm9yIiwid29ya3NoZWV0IiwiU2hlZXRzIiwidXRpbHMiLCJzaGVldF90b19qc29uIiwiZGVmdmFsIiwicmF3IiwiYmxhbmtyb3dzIiwicGFyc2VDU1YiLCJ0ZXh0IiwibGluZXMiLCJzcGxpdCIsImxpbmUiLCJoZWFkZXJzIiwicGFyc2VDU1ZMaW5lIiwidmFsdWVzIiwiZXZlcnkiLCJ2IiwiaGVhZGVyIiwicmVzdWx0IiwiY3VycmVudCIsImluUXVvdGVzIiwiY2hhciIsIm5leHRDaGFyIiwicHJvY2Vzc1VwbG9hZCIsImZpbGVCdWZmZXIiLCJpc0V4Y2VsIiwiZHJ5UnVuIiwicHJvZHVjdHNEYXRhIiwicmVhZEZpbGVTeW5jIiwiSlNPTiIsInBhcnNlIiwiaXNBcnJheSIsIk1hcCIsInNldCIsInVwbG9hZGVkUm93cyIsIm1lc3NhZ2UiLCJub3JtYWxpemVkUm93cyIsImVycm9ycyIsInNlZW5LZXlzIiwiZHVwbGljYXRlc0luRmlsZSIsImtleSIsImV4aXN0aW5nIiwiZ2V0Iiwicm93TnVtYmVycyIsInJvd051bSIsInVuaXF1ZVJvd3MiLCJvcGVyYXRpb25zIiwiY3JlYXRpb25zIiwibm90Rm91bmQiLCJ1c2VkUHJvZHVjdEluZGljZXMiLCJuZXdQcm9kdWN0SWRzIiwibWF0Y2giLCJhZGQiLCJwcm9kdWN0SWQiLCJvbGRTdG9jayIsIm5ld1N0b2NrIiwicmVxdWVzdGVkU3RvY2siLCJyZWFzb24iLCJuZXdJZCIsIm5ld1Byb2R1Y3QiLCJnYWxsZXJ5Iiwib3AiLCJjcmVhdGlvbiIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJzdWNjZXNzIiwic3VtbWFyeSIsInRvdGFsUm93cyIsInZhbGlkUm93cyIsInRvVXBkYXRlIiwidG9DcmVhdGUiLCJQT1NUIiwicmVxdWVzdCIsImZvcm1EYXRhIiwiZmlsZSIsImRyeVJ1blBhcmFtIiwianNvbiIsInN0YXR1cyIsImZpbGVOYW1lIiwiZW5kc1dpdGgiLCJpc0NTViIsImZpbGVDb250ZW50IiwiYXJyYXlCdWZmZXIiLCJyZXNwb25zZSIsInJlcG9ydCIsInVwZGF0ZWQiLCJjcmVhdGVkIiwiYyIsInN0b2NrIiwibmYiLCJyZWZlcmVuY2UiLCJlIiwiZHVwbGljYXRlcyIsIkdFVCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImZvcm1hdCIsImV4YW1wbGVSb3dzIiwiY3N2Q29udGVudCIsImJvb2tfbmV3IiwiYW9hX3RvX3NoZWV0Iiwid2NoIiwiYm9va19hcHBlbmRfc2hlZXQiLCJleGNlbEJ1ZmZlciIsIndyaXRlIiwiYm9va1R5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/upload-products/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fupload-products%2Froute&page=%2Fapi%2Fadmin%2Fupload-products%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fupload-products%2Froute.ts&appDir=C%3A%5CUsers%5C1%5CDocuments%5Ccurs%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C1%5CDocuments%5Ccurs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();